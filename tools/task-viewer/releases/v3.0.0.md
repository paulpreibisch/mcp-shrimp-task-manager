# 🚀 Task Viewer v3.0.0 Release Notes

*Released: August 7, 2025*

## 📑 Table of Contents

- [🎉 Major New Features](#-major-new-features)
  - [🤖 Agent Management System](#-agent-management-system)
  - [🤖 AI-Powered Bulk Agent Assignment](#-ai-powered-bulk-agent-assignment)
  - [📊 Git Version Control for Task History](#-git-version-control-for-task-history)
  - [📊 Project History View](#-project-history-view)
  - [🎨 Template Management System](#-template-management-system)
  - [🌍 Internationalization (i18n) Support](#-internationalization-i18n-support)
  - [🧭 Enhanced Navigation & UI](#-enhanced-navigation--ui)
- [🔄 Significant Improvements](#-significant-improvements)
  - [Performance Enhancements](#performance-enhancements)
  - [Developer Experience](#developer-experience)
  - [UI/UX Refinements](#uiux-refinements)
- [🐛 Bug Fixes](#-bug-fixes)
  - [Critical Fixes](#critical-fixes)
  - [UI Fixes](#ui-fixes)
  - [Data Handling](#data-handling)
- [🏗️ Technical Updates](#️-technical-updates)
  - [New Dependencies](#new-dependencies)
  - [API Enhancements](#api-enhancements)
  - [Architecture Improvements](#architecture-improvements)
- [📝 Breaking Changes](#-breaking-changes)
  - [Configuration Updates](#configuration-updates)
  - [API Changes](#api-changes)
- [🚀 Migration Guide](#-migration-guide)
- [🎯 Summary](#-summary)

## 🎉 Major New Features

### 🤖 Agent Management System
**Comprehensive subagent management for specialized task handling**

The SHRIMP-TASK-MANAGER now supports powerful agent management capabilities, allowing you to define and use specialized AI agents for different types of tasks. Agents are specialized AI personalities or skill sets that can be assigned to tasks for optimal execution. This feature integrates seamlessly with Claude's agent system, enabling you to leverage custom agents stored in your `.claude/agents` folder.

Key capabilities include:

- **Agent List View**: Browse all available agents from your `.claude/agents` folder with detailed information
- **Agent Assignment**: Assign specific agents to tasks via a dropdown in the task table
- **Agent Viewer Popup**: Click the eye icon (👁️) in the task table to open a popup agent viewer where you can scroll through different agents and select the right one for each task
- **Agent Editor**: Built-in editor with color customization for agent metadata
- **Global & Project Agents**: Support for both project-specific and global agent definitions
- **One-Click AI Instructions**: Click the robot emoji to copy agent-specific instructions to clipboard
- **Agent List AI Instructions**: New AI Instruction column in agent list with robot emoji (🤖) that copies `use subagent [agent-name] located in [path]:` for direct use in Claude
- **Agent Information Modal**: Detailed agent information with navigation between agents
- **Metadata Integration**: Agent assignments saved directly to tasks.json
- **Color Coding**: Visual differentiation of agents using custom colors

#### Agent Assignment Workflow:
1. **View Available Agents**: Access the Agents tab to see all agents in your `.claude/agents` folder
2. **Assign to Tasks**: Use the dropdown in the task table to select an agent for each task
3. **Copy Instructions**: Click the robot emoji to copy: `use the built in subagent located in ./claude/agents/[agent-name] to complete this shrimp task: [task-id] please when u start working mark the shrimp task as in progress`
4. **Edit Agents**: Modify agent content and metadata including custom colors

![Agent List View with AI Instruction](/releases/agent-list-view-with-ai-instruction.png)
*The Agent List View displays all available agents with AI Instruction column - click the robot emoji (🤖) to copy agent usage instructions like `use subagent debugger.md located in ./claude/agents to perform:` directly to clipboard*

![Agent Dropdown in Task Table](/releases/agent-dropdown-task-table.png)
*Assign agents to tasks using the dropdown selector in the task table*

![Agent Viewer Popup](/releases/agent-viewer-popup.png)
*Click the eye icon (👁️) to open the agent viewer popup and browse through available agents for task assignment*

![Agent Editor with Color Selection](/releases/agent-editor-color-selection.png)
*Edit agent content and customize with colors for visual organization*

![Agent Copy Instruction Tooltip](/releases/agent-copy-instruction-tooltip.png)
*Click the robot emoji to copy agent-specific task instructions*

![Agent Information Modal](/releases/agent-info-modal.png)
*Browse through agents with detailed information and easy navigation*

![Global Settings for Agents](/releases/global-settings-agents.png)
*Configure global Claude folder path to access system-wide agents*

### 🤖 AI-Powered Bulk Agent Assignment
**Automatically assign the most appropriate agents to multiple tasks using OpenAI GPT-4**

The Task Viewer now integrates with OpenAI's GPT-4 to intelligently assign agents to tasks based on their descriptions and requirements. This feature dramatically reduces the time needed to configure large numbers of tasks with appropriate agents.

Key features include:

- **Bulk Selection**: Select multiple tasks using checkboxes in the task table
- **One-Click Assignment**: Click "AI Assign Agents" to automatically assign agents to all selected tasks
- **Intelligent Matching**: GPT-4 analyzes task descriptions and agent capabilities to make optimal assignments
- **Global Settings Integration**: Configure your OpenAI API key in the Global Settings tab
- **Environment Variable Support**: Also supports `OPENAI_API_KEY` or `OPEN_AI_KEY_SHRIMP_TASK_VIEWER` environment variables
- **Error Guidance**: Clear instructions provided if API key is not configured

#### Setup Instructions:
1. **Configure API Key**: Go to Settings → Global Settings and enter your OpenAI API key
2. **Select Tasks**: Use checkboxes to select tasks that need agent assignment
3. **AI Assignment**: Click the "🤖 AI Assign Agents" button in the bulk actions bar
4. **Automatic Processing**: GPT-4 will analyze tasks and assign the most suitable agents

![Global Settings OpenAI Key](/releases/global-settings-openai-key.png)
*Configure your OpenAI API key in Global Settings for AI-powered agent assignment*

![AI Bulk Agent Assignment](/releases/ai-bulk-agent-assignment.png)
*Select multiple tasks and click "🤖 AI Assign Agents (5 tasks selected)" to automatically assign appropriate agents using GPT-4*

### 📊 Git Version Control for Task History
**Automatic Git commits track every change to your tasks**

The SHRIMP-TASK-MANAGER now includes built-in Git integration that automatically tracks all changes to your tasks.json file. This provides a complete audit trail of task modifications without any manual intervention.

Key features include:

- **Automatic Git Repository**: Initializes a Git repository in your data directory on first use
- **Timestamped Commits**: Every task operation (create, update, delete) creates a commit with local timezone timestamps
- **Descriptive Messages**: Commits include clear descriptions of what changed (e.g., "Add new task: Implement user authentication")
- **Non-Blocking**: Git operations are wrapped in try-catch blocks - if Git fails, task operations continue normally
- **Isolated Repository**: The Git repo is only for task history, completely separate from your project repository
- **No Merge Conflicts**: Single file tracking with linear history means no conflicts possible

#### Benefits:
- **Complete History**: Review the entire evolution of your tasks using standard Git tools
- **Change Tracking**: See exactly when and how tasks were modified
- **Recovery Options**: Restore previous task states if needed
- **Team Visibility**: Share task history with team members

The Git integration is completely transparent and requires no configuration. You can view the history at any time using:
```bash
cd <shrimp-data-directory>
git log --oneline
```

#### How to View Task History

1. **Navigate to your task data directory** (as configured in your `.mcp.json`):
   ```bash
   cd <shrimp-data-directory>
   ```

2. **View commit history**:
   ```bash
   git log --oneline
   ```

3. **See specific changes**:
   ```bash
   git show <commit-hash>
   ```

4. **Compare versions**:
   ```bash
   git diff HEAD~5  # Compare with 5 commits ago
   ```

5. **Restore previous state** (if needed):
   ```bash
   git checkout <commit-hash> -- tasks.json
   ```

### 📊 Project History View
**Track and analyze your project's task execution history**

The SHRIMP-TASK-MANAGER automatically saves completed tasks to memory files within your project whenever you start a new task session. Previously, this valuable historical data was hidden in these memory files and inaccessible through the UI. The new Project History View exposes this task history, allowing you to explore how your project evolved over time.

This feature enables you to:

- **Historical Task Snapshots**: Browse through past states of your project saved by SHRIMP-TASK-MANAGER
- **Task Evolution Tracking**: See how tasks progressed from creation to completion across different sessions
- **Notes System**: Add personal notes to historical entries for future reference and team knowledge sharing
- **Detailed Task View**: Drill down into specific historical task states to understand past decisions and implementations
- **Time-based Navigation**: Navigate through your project's timeline to see what was accomplished when
- **Snapshot Comparison**: Compare task states across different time periods to track project growth and changes

![Project History View Screenshot](/releases/project-history-view.png)

![Project History Detail View Screenshot](/releases/project-history-detail-view.png)

### 🎨 Template Management System
**Powerful template customization for AI task execution**

Templates are the core instructions that guide the SHRIMP-TASK-MANAGER in analyzing and executing tasks. They define how the AI should approach different types of operations, from planning and analysis to implementation and verification. The MCP-TASK-MANAGER allows for custom templates that can either override default behaviors or append additional instructions to existing templates.

This new Template Management interface provides an intuitive way to:

- **Template Editor**: Full-featured markdown editor with syntax highlighting for crafting custom AI instructions
- **Template Preview**: Live preview of templates before activation to ensure they meet your requirements
- **Template Duplication**: Create variations of existing templates easily for different use cases
- **Template Status Tracking**: Visual indicators showing Default (original), Custom (completely replaced), and Custom+Append (additions to default) states
- **Reset to Default**: One-click restoration of original templates when needed
- **Export Templates**: Export your custom templates for backup, sharing with team members, or version control
- **Activation Dialog**: Clear confirmation when activating templates to prevent accidental changes

![Template Management System Screenshot](/releases/template-management-system.png)

### 🌍 Internationalization (i18n) Support
**Multi-language support with seamless language switching**

- **Three Languages Supported**: English (en), Chinese (中文), and Spanish (Español)
- **Persistent Language Selection**: Your language preference is saved and remembered
- **Complete UI Translation**: All UI elements, buttons, labels, and messages are fully translated
- **Dynamic Language Switching**: Change languages on-the-fly without page reload
- **Language Context Provider**: Centralized language management for consistent translations

### 🧭 Enhanced Navigation & UI
**Modern, intuitive interface improvements**

- **Nested Tab System**: Organized navigation with primary and secondary tabs
- **URL State Synchronization**: Browser URL updates to reflect current view
- **Task Details Navigation**: Previous/Next buttons allow sequential task review without returning to list
- **Loading Spinners**: Visual feedback during data loading
- **Toast Notifications**: Non-intrusive success/error messages
- **Responsive Design**: Improved mobile and tablet experience
- **Modal Improvements**: Better modal layouts and interactions
- **Keyboard Navigation**: Arrow key support for faster task navigation in detail view

## 🔄 Significant Improvements

### Task Details Navigation
**Seamless task review workflow**

The Task Details view now includes Previous/Next navigation buttons that transform how you review and work through tasks:

- **Sequential Navigation**: Move through tasks in order without returning to the main list
- **Context Preservation**: Stay in the detailed view while switching between tasks
- **Visual Indicators**: Buttons show task numbers (e.g., "← Previous (Task 3)" and "Next (Task 5) →")
- **Smart Boundaries**: Navigation buttons disable at the first and last tasks
- **Keyboard Shortcuts**: Use arrow keys for even faster navigation
- **Efficiency Boost**: Review entire task lists 3-5x faster than clicking back and forth

This feature is particularly valuable when:
- Reviewing newly created tasks from AI analysis
- Working through a sequence of dependent tasks
- Checking implementation details across multiple related tasks
- Performing task audits or reviews

### Performance Enhancements
- **Optimized Re-renders**: React hooks properly memoized for better performance
- **Lazy Loading**: Components load on-demand for faster initial page load
- **Efficient State Management**: Reduced unnecessary state updates
- **Batch Updates**: Multiple state changes batched for smoother UI

### Developer Experience
- **Comprehensive Test Suite**: Added integration and language feature tests
- **Test Checklists**: Structured testing documentation
- **Better Error Handling**: More informative error messages
- **Debug Logging**: Enhanced debugging capabilities for development

### UI/UX Refinements
- **Improved Task Table**: Better column sizing and text wrapping
- **Enhanced Modals**: Consistent modal styling and behavior
- **Better Typography**: Improved readability with updated font sizes
- **Color Scheme Updates**: More accessible color contrasts
- **Icon Consistency**: Unified icon usage throughout the app

## 🐛 Bug Fixes

### Critical Fixes
- **useRef Hook Error**: Fixed missing React hook import causing app crashes
- **Translation Keys**: Added missing translation keys for all supported languages
- **Symbolic Link Loop**: Resolved Screenshots directory infinite loop issue
- **Windows Path Handling**: Fixed file:// URI issues on Windows 11
- **Repository Links**: Corrected all repository references

### UI Fixes
- **Modal Z-index**: Fixed modal layering issues
- **Tab Selection**: Fixed tab persistence across page reloads
- **Language Selector**: Fixed state synchronization issues
- **Copy Functionality**: Improved clipboard operations reliability
- **Responsive Layout**: Fixed mobile viewport issues

### Data Handling
- **Profile Loading**: Fixed race conditions when switching profiles
- **Task Refresh**: Improved auto-refresh reliability
- **History Loading**: Fixed pagination issues in history view
- **Template Saving**: Resolved template persistence bugs

## 🏗️ Technical Updates

### New Dependencies
- `@headlessui/react`: Modern UI components
- `@tanstack/react-table`: Advanced table functionality
- `@uiw/react-md-editor`: Markdown editing for templates
- Additional type definitions for TypeScript support

### API Enhancements
- **GET /api/templates**: List all available templates
- **PUT /api/templates/:name**: Update template content
- **POST /api/templates/:name/duplicate**: Duplicate templates
- **GET /api/history/:profileId**: Fetch project history
- **Enhanced error responses**: More detailed API error messages

### Architecture Improvements
- **Component Modularity**: Better separation of concerns
- **Custom Hooks**: Reusable logic extracted into hooks
- **Context Providers**: Centralized state management
- **Utility Functions**: Shared utilities for common operations

## 📝 Breaking Changes

### Configuration Updates
- **Language Settings**: New language preference storage format
- **Template Storage**: Templates now stored in user home directory
- **URL Structure**: Updated URL patterns for better navigation

### API Changes
- **Profile Endpoints**: Updated response formats include more metadata
- **Task Endpoints**: Enhanced with additional filtering options
- **Template Endpoints**: New endpoint structure for template management

## 🚀 Migration Guide

### From v2.1 to v3.0
1. **Language Selection**: Your default language will be English; select preferred language from the new selector
2. **Templates**: Existing custom templates will be preserved but may need re-activation
3. **Browser Cache**: Clear browser cache for optimal performance
4. **Profile Data**: All existing profiles will continue to work without changes

## 🎯 Summary

Version 3.0 represents a major leap forward for the Task Viewer, transforming it from a simple task visualization tool into a comprehensive task management and customization platform. With full internationalization support, powerful template management, AI-powered automation, and Git-based historical tracking capabilities, this release provides teams with unprecedented control over their AI-assisted development workflows.

Key highlights of this release include:
- **AI-Powered Agent Assignment**: Leverage GPT-4 to automatically assign the most appropriate agents to tasks
- **Git Version Control**: Automatic tracking of all task changes with timestamped commits
- **Multi-language Support**: Full internationalization with English, Chinese, and Spanish
- **Template Management**: Deep customization of AI behavior through template editing
- **History Views**: Complete visibility into project evolution through both Git commits and memory snapshots

The addition of three language support (English, Chinese, Spanish) makes the tool accessible to a global audience, while the template management system allows for deep customization of AI behavior. The Git integration provides a permanent audit trail of all task modifications, and the AI-powered bulk assignment feature dramatically speeds up task configuration.

This release sets the foundation for future enhancements and positions the Task Viewer as an essential tool in the modern AI-assisted development toolkit.