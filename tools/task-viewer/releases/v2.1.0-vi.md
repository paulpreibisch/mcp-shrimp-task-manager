# 🚀 Task Viewer v2.1.0 Ghi chú phát hành

*Ngày phát hành: 29 tháng 7, 2025*

## 🎉 Tính năng mới

### 🔗 Đường dẫn tệp có thể nhấp với hỗ trợ thư mục gốc dự án
**Sao chép đường dẫn tệp đầy đủ chỉ bằng một cú nhấp!**

- **Đường dẫn tệp có thể nhấp để sao chép**: Bây giờ khi bạn nhấp vào một tác vụ và được chuyển đến trang Chi tiết tác vụ, nếu có bất kỳ tệp liên quan nào được liệt kê mà tác vụ sửa đổi hoặc tạo, tên tệp đó bây giờ sẽ có siêu liên kết đến tệp thực tế trên hệ thống tệp của bạn (với điều kiện bạn cấu hình thư mục dự án khi tạo/chỉnh sửa tab hồ sơ)

### 📋 Quản lý UUID nâng cao
**Quản lý sao chép UUID được tối ưu hóa với tương tác trực quan**

Khi tương tác với claude, đôi khi sẽ hữu ích khi dễ dàng tham chiếu một tác vụ shrimp, ví dụ:
"Claude, vui lòng hoàn thành tác vụ shrimp này: da987923-2afe-4ac3-985e-ac029cc831e7". Do đó, chúng tôi đã thêm tính năng Nhấp để sao chép trên các phù hiệu Số tác vụ, và trên UUID được liệt kê trong cột Tên tác vụ.

- **Phù hiệu tác vụ có thể nhấp để sao chép**: Nhấp bất kỳ phù hiệu số tác vụ nào để sao chép ngay UUID của nó
- **UUID được nối hiển thị dưới tên tác vụ trong Cột tên tác vụ**: Nhấp UUID để sao chép

### 🔄 Cột phụ thuộc tác vụ để song song hóa dễ dàng

Chúng tôi đã thêm một cột Phụ thuộc liệt kê các UUID liên kết của bất kỳ tác vụ phụ thuộc nào. Bây giờ bạn có thể dễ dàng điều hướng đến các tác vụ phụ thuộc.

### 🤖 Hành động hướng dẫn AI
**Hướng dẫn tác vụ AI một cú nhấp**

Chúng tôi đã thêm một Cột hành động có biểu tượng cảm xúc Robot tiện dụng. Nếu bạn nhấp vào biểu tượng cảm xúc, nó sẽ sao chép Hướng dẫn AI vào clipboard mà sau đó bạn có thể dán vào cuộc trò chuyện của agent của bạn. Hướng dẫn đã được mã hóa để sao chép như sau: "Use task manager to complete this shrimp task: < UUID >"

Hướng dẫn này hữu ích cho việc song song hóa. Ví dụ, nếu 3 tác vụ sau không có phụ thuộc, bạn có thể mở nhiều cửa sổ terminal và dán Hướng dẫn AI. Ví dụ:

Terminal 1: Use task manager to complete this shrimp task: da987923-2afe-4ac3-985e-ac029cc831e7
Terminal 2: Use task manager to complete this shrimp task: 4afe3f1c-bf7f-4642-8485-668c33a1e0fc
Terminal 3: Use task manager to complete this shrimp task: 21bd2cb9-4109-4897-9904-885ee2b0792e

### ✏️ Nút chỉnh sửa hồ sơ

**Cấu hình thư mục gốc dự án**: Bây giờ bạn có thể đặt thư mục gốc cho mỗi hồ sơ, điều này sau đó sẽ cho phép bạn kích hoạt sao chép đường dẫn tệp đầy đủ khi "các tệp liên quan" khi xem trang chi tiết tác vụ.

**Khả năng đổi tên hồ sơ**: Bây giờ bạn có thể đổi tên tab hồ sơ mà không cần phải xóa và tạo lại.

## 🔄 Thay đổi

### Cải tiến UI/UX
- **Hành động sao chép được tối ưu hóa**: Gộp sao chép UUID chỉ thành nhấp phù hiệu tác vụ
- **Phụ thuộc thay vì Ghi chú**: Thay thế cột Ghi chú bằng cột Phụ thuộc hữu ích hơn
- **Ghi chú phát hành trong ứng dụng**: Ghi chú phát hành cho Task viewer hiển thị trong banner trên cùng
- **Điều hướng dựa tab**: Ghi chú phát hành được tích hợp vào hệ thống tab với chức năng đóng

### Cập nhật kiến trúc
- **Tương thích mô-đun ES**: Xóa phụ thuộc busboy để hỗ trợ mô-đun ES tốt hơn
- **Phân tích biểu mẫu gốc**: Thay thế phân tích biểu mẫu bên thứ ba bằng các công cụ tích hợp Node.js
- **Cập nhật phiên bản**: Cập nhật lên v2.1.0 (cho task viewer) để phản ánh việc bổ sung tính năng quan trọng

## 🐛 Sửa lỗi

### 🚨 SỬA LỖI QUAN TRỌNG: Tải lên tệp tạo bản sao tĩnh
**Vấn đề**: Khi thêm hồ sơ bằng cách tải lên tệp tasks.json, hệ thống đã tạo bản sao tĩnh trong thư mục `/tmp/`. Điều này có nghĩa là bất kỳ thay đổi nào đối với tệp tác vụ thực tế của bạn sẽ KHÔNG được phản ánh trong trình xem - các tác vụ sẽ xuất hiện bị kẹt ở trạng thái ban đầu (ví dụ: hiển thị "đang tiến hành" khi thực tế đã "hoàn thành").

**Giải pháp**: Xóa hoàn toàn tính năng tải lên tệp. Bây giờ bạn phải nhập đường dẫn thư mục trực tiếp, và hệ thống tự động thêm `/tasks.json`. Điều này đảm bảo trình xem luôn đọc từ tệp thực tế của bạn.

**Cách sử dụng**: 
1. Điều hướng đến thư mục dữ liệu shrimp của bạn trong terminal
2. Nhập `pwd` để lấy đường dẫn đầy đủ (được làm nổi bật bằng màu vàng trong UI)
3. Dán đường dẫn này vào trường "Task Folder Path"
4. Hệ thống tự động sử dụng `[your-path]/tasks.json`

![Ảnh chụp màn hình Modal thêm hồ sơ](/releases/add-profile-modal.png)

### Quản lý hồ sơ
- **Lựa chọn tự động đã sửa**: Các hồ sơ mới bây giờ được tự động chọn và tải sau khi tạo
- **Giải quyết vấn đề nhập**: Sửa các vấn đề nhập mô-đun ES với thư viện busboy
- **Modal chỉnh sửa thống nhất**: Kết hợp đổi tên và chỉnh sửa thư mục gốc dự án thành giao diện duy nhất

### Xử lý dữ liệu
- **Lưu trữ thư mục gốc dự án**: Đường dẫn thư mục gốc dự án bây giờ được lưu đúng cách với dữ liệu hồ sơ
- **Tải tác vụ**: Sửa điều kiện race khi chuyển đổi giữa các hồ sơ
- **Quản lý trạng thái**: Cải thiện xử lý trạng thái lựa chọn hồ sơ

## 🗑️ Đã xóa

### Tính năng đã lỗi thời
- **Phụ thuộc Busboy**: Thay thế bằng phân tích biểu mẫu Node.js gốc
- **Cột ghi chú**: Thay thế bằng cột Phụ thuộc hữu ích hơn
- **Nút sao chép riêng lẻ**: Sao chép UUID được gộp thành nhấp phù hiệu tác vụ
- **Nút đổi tên riêng biệt**: Hợp nhất thành nút Chỉnh sửa hồ sơ thống nhất

## 📝 Chi tiết kỹ thuật

### Điểm cuối API mới
- **PUT /api/update-profile/:id**: Cập nhật tên hồ sơ và cài đặt
- **Nâng cao /api/tasks/:id**: Bây giờ bao gồm projectRoot trong phản hồi
- **GET /releases/*.md**: Phục vụ các tệp markdown ghi chú phát hành

### Thành phần Frontend
- **Thành phần ReleaseNotes**: Ghi chú phát hành được hiển thị markdown đẹp
- **TaskTable nâng cao**: Hỗ trợ cho các cột phụ thuộc và hành động
- **TaskDetailView cải thiện**: Đường dẫn tệp có thể nhấp với sao chép đường dẫn đầy đủ

### Cấu hình
- **Lưu trữ thư mục gốc dự án**: Các hồ sơ bây giờ lưu trữ đường dẫn projectRoot tùy chọn
- **Lưu trữ cài đặt**: Tất cả dữ liệu hồ sơ được lưu vào ~/.shrimp-task-viewer-settings.json

## 🎯 Tóm tắt

Phiên bản 2.1.0 biến đổi Task Viewer thành công cụ phát triển tích hợp hơn với quản lý đường dẫn tệp nâng cao, xử lý UUID cải thiện và trực quan hóa mối quan hệ tác vụ tốt hơn. Quản lý hồ sơ thống nhất và ghi chú phát hành trong ứng dụng cung cấp trải nghiệm người dùng gắn kết hơn trong khi vẫn duy trì giao diện sạch sẽ, trực quan.