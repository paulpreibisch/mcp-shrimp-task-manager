# 🚀 Notas de la Versión v3.0.0 de Task Viewer

*Fecha de lanzamiento: 7 de agosto de 2025*

## 📑 Tabla de Contenidos

- [🎉 Nuevas Características Principales](#-nuevas-características-principales)
  - [🤖 Sistema de Gestión de Agentes](#-sistema-de-gestión-de-agentes)
  - [🤖 Asignación Masiva de Agentes con IA](#-asignación-masiva-de-agentes-con-ia)
  - [📊 Control de Versiones Git para el Historial de Tareas](#-control-de-versiones-git-para-el-historial-de-tareas)
  - [📊 Vista del Historial del Proyecto](#-vista-del-historial-del-proyecto)
  - [🎨 Sistema de Gestión de Plantillas](#-sistema-de-gestión-de-plantillas)
  - [🌍 Soporte de Internacionalización (i18n)](#-soporte-de-internacionalización-i18n)
  - [🧭 Navegación y UI Mejoradas](#-navegación-y-ui-mejoradas)
- [🔄 Mejoras Significativas](#-mejoras-significativas)
  - [Navegación de Detalles de Tarea](#navegación-de-detalles-de-tarea)
  - [Mejoras de Rendimiento](#mejoras-de-rendimiento)
  - [Experiencia del Desarrollador](#experiencia-del-desarrollador)
  - [Refinamientos de UI/UX](#refinamientos-de-uiux)
- [🐛 Corrección de Errores](#-corrección-de-errores)
  - [Correcciones Críticas](#correcciones-críticas)
  - [Correcciones de UI](#correcciones-de-ui)
  - [Manejo de Datos](#manejo-de-datos)
- [🏗️ Actualizaciones Técnicas](#️-actualizaciones-técnicas)
  - [Nuevas Dependencias](#nuevas-dependencias)
  - [Mejoras de API](#mejoras-de-api)
  - [Mejoras de Arquitectura](#mejoras-de-arquitectura)
- [📝 Cambios Disruptivos](#-cambios-disruptivos)
  - [Actualizaciones de Configuración](#actualizaciones-de-configuración)
  - [Cambios de API](#cambios-de-api)
- [🚀 Guía de Migración](#-guía-de-migración)
- [🎯 Resumen](#-resumen)

## 🎉 Nuevas Características Principales

### 🤖 Sistema de Gestión de Agentes
**Gestión integral de subagentes para el manejo especializado de tareas**

SHRIMP-TASK-MANAGER ahora admite capacidades de gestión de agentes potentes, permitiéndole definir y usar agentes de IA especializados para diferentes tipos de tareas. Los agentes son personalidades o conjuntos de habilidades de IA especializados que pueden asignarse a tareas para una ejecución óptima. Esta característica se integra perfectamente con el sistema de agentes de Claude, permitiéndole aprovechar agentes personalizados almacenados en su carpeta `.claude/agents`.

Las capacidades clave incluyen:

- **Vista de Lista de Agentes**: Examine todos los agentes disponibles de su carpeta `.claude/agents` con información detallada
- **Asignación de Agentes**: Asigne agentes específicos a tareas mediante un menú desplegable en la tabla de tareas
- **Ventana Emergente del Visor de Agentes**: Haga clic en el icono del ojo (👁️) en la tabla de tareas para abrir un visor de agentes emergente donde puede desplazarse por diferentes agentes y seleccionar el adecuado para cada tarea
- **Editor de Agentes**: Editor integrado con personalización de color para metadatos de agentes
- **Agentes Globales y de Proyecto**: Soporte para definiciones de agentes específicos del proyecto y globales
- **Instrucciones de IA con Un Clic**: Haga clic en el emoji del robot para copiar instrucciones específicas del agente al portapapeles
- **Instrucciones de IA en Lista de Agentes**: Nueva columna de Instrucciones de IA en la lista de agentes con emoji de robot (🤖) que copia `use subagent [nombre-agente] located in [ruta]:` para uso directo en Claude
- **Modal de Información del Agente**: Información detallada del agente con navegación entre agentes
- **Integración de Metadatos**: Las asignaciones de agentes se guardan directamente en tasks.json
- **Codificación por Colores**: Diferenciación visual de agentes usando colores personalizados

#### Flujo de Trabajo de Asignación de Agentes:
1. **Ver Agentes Disponibles**: Acceda a la pestaña Agentes para ver todos los agentes en su carpeta `.claude/agents`
2. **Asignar a Tareas**: Use el menú desplegable en la tabla de tareas para seleccionar un agente para cada tarea
3. **Copiar Instrucciones**: Haga clic en el emoji del robot para copiar: `use the built in subagent located in ./claude/agents/[nombre-agente] to complete this shrimp task: [id-tarea] please when u start working mark the shrimp task as in progress`
4. **Editar Agentes**: Modifique el contenido y los metadatos del agente, incluidos los colores personalizados

![Vista de Lista de Agentes con Instrucción de IA](/releases/agent-list-view-with-ai-instruction.png)
*La Vista de Lista de Agentes muestra todos los agentes disponibles con columna de Instrucción de IA - haga clic en el emoji del robot (🤖) para copiar instrucciones de uso del agente como `use subagent debugger.md located in ./claude/agents to perform:` directamente al portapapeles*

![Menú Desplegable de Agentes en la Tabla de Tareas](/releases/agent-dropdown-task-table.png)
*Asigne agentes a tareas usando el selector desplegable en la tabla de tareas*

![Ventana Emergente del Visor de Agentes](/releases/agent-viewer-popup.png)
*Haga clic en el icono del ojo (👁️) para abrir la ventana emergente del visor de agentes y navegar por los agentes disponibles para la asignación de tareas*

![Editor de Agentes con Selección de Color](/releases/agent-editor-color-selection.png)
*Edite el contenido del agente y personalice con colores para la organización visual*

![Información sobre herramientas de Instrucción de Copia del Agente](/releases/agent-copy-instruction-tooltip.png)
*Haga clic en el emoji del robot para copiar instrucciones de tarea específicas del agente*

![Modal de Información del Agente](/releases/agent-info-modal.png)
*Navegue por los agentes con información detallada y navegación fácil*

![Configuración Global para Agentes](/releases/global-settings-agents.png)
*Configure la ruta de la carpeta global de Claude para acceder a agentes de todo el sistema*

### 🤖 Asignación Masiva de Agentes con IA
**Asigne automáticamente los agentes más apropiados a múltiples tareas usando OpenAI GPT-4**

Task Viewer ahora se integra con GPT-4 de OpenAI para asignar inteligentemente agentes a tareas basándose en sus descripciones y requisitos. Esta característica reduce drásticamente el tiempo necesario para configurar grandes cantidades de tareas con agentes apropiados.

Las características clave incluyen:

- **Selección Masiva**: Seleccione múltiples tareas usando casillas de verificación en la tabla de tareas
- **Asignación con Un Clic**: Haga clic en "Asignar Agentes con IA" para asignar automáticamente agentes a todas las tareas seleccionadas
- **Coincidencia Inteligente**: GPT-4 analiza las descripciones de tareas y las capacidades de los agentes para hacer asignaciones óptimas
- **Integración de Configuración Global**: Configure su clave API de OpenAI en la pestaña Configuración Global
- **Soporte de Variables de Entorno**: También admite variables de entorno `OPENAI_API_KEY` o `OPEN_AI_KEY_SHRIMP_TASK_VIEWER`
- **Guía de Errores**: Se proporcionan instrucciones claras si la clave API no está configurada

#### Instrucciones de Configuración:
1. **Configurar Clave API**: Vaya a Configuración → Configuración Global e ingrese su clave API de OpenAI
2. **Seleccionar Tareas**: Use casillas de verificación para seleccionar tareas que necesitan asignación de agente
3. **Asignación con IA**: Haga clic en el botón "🤖 Asignar Agentes con IA" en la barra de acciones masivas
4. **Procesamiento Automático**: GPT-4 analizará las tareas y asignará los agentes más adecuados

![Clave OpenAI en Configuración Global](/releases/global-settings-openai-key.png)
*Configure su clave API de OpenAI en Configuración Global para la asignación de agentes impulsada por IA*

![Asignación Masiva de Agentes con IA](/releases/ai-bulk-agent-assignment.png)
*Seleccione múltiples tareas y haga clic en "🤖 Asignar Agentes con IA (5 tareas seleccionadas)" para asignar automáticamente agentes apropiados usando GPT-4*

### 📊 Control de Versiones Git para el Historial de Tareas
**Los commits automáticos de Git rastrean cada cambio en sus tareas**

SHRIMP-TASK-MANAGER ahora incluye integración Git incorporada que rastrea automáticamente todos los cambios en su archivo tasks.json. Esto proporciona un rastro de auditoría completo de las modificaciones de tareas sin ninguna intervención manual.

Las características clave incluyen:

- **Repositorio Git Automático**: Inicializa un repositorio Git en su directorio de datos en el primer uso
- **Commits con Marca de Tiempo**: Cada operación de tarea (crear, actualizar, eliminar) crea un commit con marcas de tiempo de zona horaria local
- **Mensajes Descriptivos**: Los commits incluyen descripciones claras de lo que cambió (por ejemplo, "Agregar nueva tarea: Implementar autenticación de usuario")
- **Sin Bloqueo**: Las operaciones Git están envueltas en bloques try-catch: si Git falla, las operaciones de tareas continúan normalmente
- **Repositorio Aislado**: El repositorio Git es solo para el historial de tareas, completamente separado de su repositorio de proyecto
- **Sin Conflictos de Fusión**: El seguimiento de un solo archivo con historial lineal significa que no hay conflictos posibles

#### Beneficios:
- **Historial Completo**: Revise toda la evolución de sus tareas usando herramientas Git estándar
- **Seguimiento de Cambios**: Vea exactamente cuándo y cómo se modificaron las tareas
- **Opciones de Recuperación**: Restaure estados de tareas anteriores si es necesario
- **Visibilidad del Equipo**: Comparta el historial de tareas con los miembros del equipo

La integración de Git es completamente transparente y no requiere configuración. Puede ver el historial en cualquier momento usando:
```bash
cd <directorio-datos-shrimp>
git log --oneline
```

#### Cómo Ver el Historial de Tareas

1. **Navegue a su directorio de datos de tareas** (como se configura en su `.mcp.json`):
   ```bash
   cd <directorio-datos-shrimp>
   ```

2. **Ver historial de commits**:
   ```bash
   git log --oneline
   ```

3. **Ver cambios específicos**:
   ```bash
   git show <hash-commit>
   ```

4. **Comparar versiones**:
   ```bash
   git diff HEAD~5  # Comparar con 5 commits atrás
   ```

5. **Restaurar estado anterior** (si es necesario):
   ```bash
   git checkout <hash-commit> -- tasks.json
   ```

### 📊 Vista del Historial del Proyecto
**Rastree y analice el historial de ejecución de tareas de su proyecto**

SHRIMP-TASK-MANAGER guarda automáticamente las tareas completadas en archivos de memoria dentro de su proyecto cada vez que inicia una nueva sesión de tareas. Anteriormente, estos valiosos datos históricos estaban ocultos en estos archivos de memoria e inaccesibles a través de la interfaz de usuario. La nueva Vista del Historial del Proyecto expone este historial de tareas, permitiéndole explorar cómo evolucionó su proyecto con el tiempo.

Esta característica le permite:

- **Instantáneas de Tareas Históricas**: Navegue por los estados pasados de su proyecto guardados por SHRIMP-TASK-MANAGER
- **Seguimiento de la Evolución de Tareas**: Vea cómo las tareas progresaron desde la creación hasta la finalización en diferentes sesiones
- **Sistema de Notas**: Agregue notas personales a las entradas históricas para referencia futura y compartir conocimientos del equipo
- **Vista Detallada de Tareas**: Profundice en estados específicos de tareas históricas para comprender decisiones e implementaciones pasadas
- **Navegación Basada en el Tiempo**: Navegue por la línea de tiempo de su proyecto para ver qué se logró y cuándo
- **Comparación de Instantáneas**: Compare estados de tareas en diferentes períodos de tiempo para rastrear el crecimiento y los cambios del proyecto

![Captura de Pantalla de la Vista del Historial del Proyecto](/releases/project-history-view.png)

![Captura de Pantalla de la Vista Detallada del Historial del Proyecto](/releases/project-history-detail-view.png)

### 🎨 Sistema de Gestión de Plantillas
**Potente personalización de plantillas para la ejecución de tareas de IA**

Las plantillas son las instrucciones centrales que guían a SHRIMP-TASK-MANAGER en el análisis y ejecución de tareas. Definen cómo la IA debe abordar diferentes tipos de operaciones, desde la planificación y el análisis hasta la implementación y verificación. MCP-TASK-MANAGER permite plantillas personalizadas que pueden anular comportamientos predeterminados o agregar instrucciones adicionales a las plantillas existentes.

Esta nueva interfaz de Gestión de Plantillas proporciona una forma intuitiva de:

- **Editor de Plantillas**: Editor de markdown con todas las funciones con resaltado de sintaxis para crear instrucciones de IA personalizadas
- **Vista Previa de Plantillas**: Vista previa en vivo de las plantillas antes de la activación para garantizar que cumplan con sus requisitos
- **Duplicación de Plantillas**: Cree variaciones de plantillas existentes fácilmente para diferentes casos de uso
- **Seguimiento del Estado de las Plantillas**: Indicadores visuales que muestran los estados Predeterminado (original), Personalizado (completamente reemplazado) y Personalizado+Anexar (adiciones al predeterminado)
- **Restablecer a Predeterminado**: Restauración con un clic de las plantillas originales cuando sea necesario
- **Exportar Plantillas**: Exporte sus plantillas personalizadas para respaldo, compartir con miembros del equipo o control de versiones
- **Diálogo de Activación**: Confirmación clara al activar plantillas para evitar cambios accidentales

![Captura de Pantalla del Sistema de Gestión de Plantillas](/releases/template-management-system.png)

### 🌍 Soporte de Internacionalización (i18n)
**Soporte multiidioma con cambio de idioma sin interrupciones**

- **Tres Idiomas Soportados**: Inglés (en), Chino (中文) y Español (Español)
- **Selección de Idioma Persistente**: Su preferencia de idioma se guarda y recuerda
- **Traducción Completa de la UI**: Todos los elementos de la interfaz, botones, etiquetas y mensajes están completamente traducidos
- **Cambio Dinámico de Idioma**: Cambie idiomas sobre la marcha sin recargar la página
- **Proveedor de Contexto de Idioma**: Gestión centralizada del idioma para traducciones consistentes

### 🧭 Navegación y UI Mejoradas
**Mejoras modernas e intuitivas de la interfaz**

- **Sistema de Pestañas Anidadas**: Navegación organizada con pestañas primarias y secundarias
- **Sincronización del Estado de URL**: La URL del navegador se actualiza para reflejar la vista actual
- **Navegación de Detalles de Tarea**: Los botones Anterior/Siguiente permiten la revisión secuencial de tareas sin volver a la lista
- **Indicadores de Carga**: Retroalimentación visual durante la carga de datos
- **Notificaciones Toast**: Mensajes de éxito/error no intrusivos
- **Diseño Responsivo**: Experiencia mejorada en móviles y tabletas
- **Mejoras de Modales**: Mejores diseños e interacciones de modales
- **Navegación por Teclado**: Soporte de teclas de flecha para una navegación más rápida de tareas en la vista de detalles

## 🔄 Mejoras Significativas

### Navegación de Detalles de Tarea
**Flujo de trabajo de revisión de tareas sin interrupciones**

La vista de Detalles de Tarea ahora incluye botones de navegación Anterior/Siguiente que transforman la forma en que revisa y trabaja con las tareas:

- **Navegación Secuencial**: Muévase a través de las tareas en orden sin volver a la lista principal
- **Preservación del Contexto**: Permanezca en la vista detallada mientras cambia entre tareas
- **Indicadores Visuales**: Los botones muestran números de tarea (por ejemplo, "← Anterior (Tarea 3)" y "Siguiente (Tarea 5) →")
- **Límites Inteligentes**: Los botones de navegación se desactivan en la primera y última tarea
- **Atajos de Teclado**: Use las teclas de flecha para una navegación aún más rápida
- **Aumento de Eficiencia**: Revise listas completas de tareas 3-5 veces más rápido que haciendo clic de ida y vuelta

Esta característica es particularmente valiosa cuando:
- Revisa tareas recién creadas a partir del análisis de IA
- Trabaja a través de una secuencia de tareas dependientes
- Verifica detalles de implementación en múltiples tareas relacionadas
- Realiza auditorías o revisiones de tareas

### Mejoras de Rendimiento
- **Re-renderizados Optimizados**: React hooks correctamente memorizados para un mejor rendimiento
- **Carga Diferida**: Los componentes se cargan bajo demanda para una carga inicial de página más rápida
- **Gestión Eficiente del Estado**: Reducción de actualizaciones de estado innecesarias
- **Actualizaciones por Lotes**: Múltiples cambios de estado agrupados para una UI más fluida

### Experiencia del Desarrollador
- **Suite de Pruebas Integral**: Se agregaron pruebas de integración y características de idioma
- **Listas de Verificación de Pruebas**: Documentación de pruebas estructurada
- **Mejor Manejo de Errores**: Mensajes de error más informativos
- **Registro de Depuración**: Capacidades de depuración mejoradas para el desarrollo

### Refinamientos de UI/UX
- **Tabla de Tareas Mejorada**: Mejor tamaño de columnas y ajuste de texto
- **Modales Mejorados**: Estilo y comportamiento de modales consistentes
- **Mejor Tipografía**: Legibilidad mejorada con tamaños de fuente actualizados
- **Actualizaciones del Esquema de Colores**: Contrastes de color más accesibles
- **Consistencia de Iconos**: Uso unificado de iconos en toda la aplicación

## 🐛 Corrección de Errores

### Correcciones Críticas
- **Error de Hook useRef**: Se corrigió la importación faltante del hook de React que causaba bloqueos de la aplicación
- **Claves de Traducción**: Se agregaron claves de traducción faltantes para todos los idiomas soportados
- **Bucle de Enlace Simbólico**: Se resolvió el problema del bucle infinito del directorio Screenshots
- **Manejo de Rutas de Windows**: Se corrigieron problemas de URI file:// en Windows 11
- **Enlaces del Repositorio**: Se corrigieron todas las referencias del repositorio

### Correcciones de UI
- **Z-index de Modal**: Se corrigieron problemas de capas de modales
- **Selección de Pestañas**: Se corrigió la persistencia de pestañas en las recargas de página
- **Selector de Idioma**: Se corrigieron problemas de sincronización de estado
- **Funcionalidad de Copia**: Se mejoró la confiabilidad de las operaciones del portapapeles
- **Diseño Responsivo**: Se corrigieron problemas de viewport móvil

### Manejo de Datos
- **Carga de Perfiles**: Se corrigieron condiciones de carrera al cambiar perfiles
- **Actualización de Tareas**: Se mejoró la confiabilidad de la actualización automática
- **Carga del Historial**: Se corrigieron problemas de paginación en la vista del historial
- **Guardado de Plantillas**: Se resolvieron errores de persistencia de plantillas

## 🏗️ Actualizaciones Técnicas

### Nuevas Dependencias
- `@headlessui/react`: Componentes UI modernos
- `@tanstack/react-table`: Funcionalidad avanzada de tablas
- `@uiw/react-md-editor`: Edición de Markdown para plantillas
- Definiciones de tipo adicionales para soporte de TypeScript

### Mejoras de API
- **GET /api/templates**: Listar todas las plantillas disponibles
- **PUT /api/templates/:name**: Actualizar contenido de plantilla
- **POST /api/templates/:name/duplicate**: Duplicar plantillas
- **GET /api/history/:profileId**: Obtener historial del proyecto
- **Respuestas de error mejoradas**: Mensajes de error de API más detallados

### Mejoras de Arquitectura
- **Modularidad de Componentes**: Mejor separación de responsabilidades
- **Hooks Personalizados**: Lógica reutilizable extraída en hooks
- **Proveedores de Contexto**: Gestión de estado centralizada
- **Funciones de Utilidad**: Utilidades compartidas para operaciones comunes

## 📝 Cambios Disruptivos

### Actualizaciones de Configuración
- **Configuración de Idioma**: Nuevo formato de almacenamiento de preferencia de idioma
- **Almacenamiento de Plantillas**: Las plantillas ahora se almacenan en el directorio de inicio del usuario
- **Estructura de URL**: Patrones de URL actualizados para mejor navegación

### Cambios de API
- **Endpoints de Perfil**: Los formatos de respuesta actualizados incluyen más metadatos
- **Endpoints de Tareas**: Mejorados con opciones de filtrado adicionales
- **Endpoints de Plantillas**: Nueva estructura de endpoints para gestión de plantillas

## 🚀 Guía de Migración

### De v2.1 a v3.0
1. **Selección de Idioma**: Su idioma predeterminado será inglés; seleccione el idioma preferido desde el nuevo selector
2. **Plantillas**: Las plantillas personalizadas existentes se conservarán pero pueden necesitar reactivación
3. **Caché del Navegador**: Limpie el caché del navegador para un rendimiento óptimo
4. **Datos de Perfil**: Todos los perfiles existentes continuarán funcionando sin cambios

## 🎯 Resumen

La versión 3.0 representa un gran salto adelante para Task Viewer, transformándolo de una herramienta simple de visualización de tareas en una plataforma integral de gestión y personalización de tareas. Con soporte completo de internacionalización, gestión potente de plantillas, automatización impulsada por IA y capacidades de seguimiento histórico basadas en Git, esta versión proporciona a los equipos un control sin precedentes sobre sus flujos de trabajo de desarrollo asistido por IA.

Los aspectos destacados clave de esta versión incluyen:
- **Asignación de Agentes Impulsada por IA**: Aproveche GPT-4 para asignar automáticamente los agentes más apropiados a las tareas
- **Control de Versiones Git**: Seguimiento automático de todos los cambios de tareas con commits con marca de tiempo
- **Soporte Multiidioma**: Internacionalización completa con inglés, chino y español
- **Gestión de Plantillas**: Personalización profunda del comportamiento de la IA a través de la edición de plantillas
- **Vistas del Historial**: Visibilidad completa de la evolución del proyecto a través de commits de Git e instantáneas de memoria

La adición del soporte de tres idiomas (inglés, chino, español) hace que la herramienta sea accesible para una audiencia global, mientras que el sistema de gestión de plantillas permite una personalización profunda del comportamiento de la IA. La integración de Git proporciona un rastro de auditoría permanente de todas las modificaciones de tareas, y la función de asignación masiva impulsada por IA acelera drásticamente la configuración de tareas.

Esta versión sienta las bases para futuras mejoras y posiciona a Task Viewer como una herramienta esencial en el conjunto de herramientas de desarrollo asistido por IA moderno.