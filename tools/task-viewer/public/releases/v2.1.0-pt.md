# 🚀 Notas de Lançamento do Task Viewer v2.1.0

*Lançado em: 29 de julho de 2025*

## 🎉 O Que Há de Novo

### 🔗 Caminhos de Arquivos Clicáveis com Suporte à Raiz do Projeto
**Copie caminhos completos de arquivos com um clique!**

- **Caminhos de Arquivos Clicáveis**: Agora, quando você clica em uma tarefa e é direcionado para a página de Detalhes da Tarefa, se houver arquivos relacionados listados que a tarefa modifica ou cria, esse nome de arquivo agora terá um hiperlink para o arquivo real em seu sistema de arquivos (desde que você configure a pasta do projeto ao criar/editar a aba do perfil)

### 📋 Gerenciamento de UUID Aprimorado
**Cópia de UUID simplificada com interações intuitivas**

Ao interagir com o claude, às vezes é útil referenciar facilmente uma tarefa shrimp, por exemplo:
"Claude, por favor complete esta tarefa shrimp: da987923-2afe-4ac3-985e-ac029cc831e7". Portanto, adicionamos um recurso Click-to-copy nos badges de Tarefa # e no UUID listado na coluna Nome da Tarefa.

- **Badges de Tarefa Clicáveis**: Clique em qualquer badge de número de tarefa para copiar instantaneamente seu UUID
- **UUID Concatenado Exibido Sob o Nome da Tarefa na Coluna Nome da Tarefa**: Clique no UUID para copiar

### 🔄 Coluna de Dependências de Tarefas para Fácil Paralelização

Adicionamos uma coluna de Dependências que lista os UUIDs vinculados de quaisquer tarefas dependentes. Agora você pode navegar facilmente para tarefas dependentes.

### 🤖 Ações de Instruções de IA
**Instruções de tarefas de IA com um clique**

Adicionamos uma Coluna de Ações que tem um emoji de robô útil. Se você clicar no emoji, ele copiará uma Instrução de IA para a área de transferência que você pode então colar no chat do seu agente. A instrução foi codificada para copiar o seguinte: "Use task manager to complete this shrimp task: < UUID >"

Esta instrução é útil para paralelização. Por exemplo, se as 3 tarefas seguintes não têm dependências, você pode abrir várias janelas de terminal e colar as Instruções de IA. Exemplo:

Terminal 1: Use task manager to complete this shrimp task: da987923-2afe-4ac3-985e-ac029cc831e7
Terminal 2: Use task manager to complete this shrimp task: 4afe3f1c-bf7f-4642-8485-668c33a1e0fc
Terminal 3: Use task manager to complete this shrimp task: 21bd2cb9-4109-4897-9904-885ee2b0792e

### ✏️ Botão de Editar Perfil

**Configuração da Raiz do Projeto**: Agora você pode definir a raiz do projeto por perfil, isso permitirá que você habilite a cópia de caminho de arquivo completo quando "arquivos relacionados" ao visualizar a página de detalhes da tarefa.

**Capacidade de Renomear um Perfil**: Agora você pode renomear uma aba de perfil sem ter que deletar e recriar.

## 🔄 Mudanças

### Melhorias de UI/UX
- **Ações de Cópia Simplificadas**: Cópia de UUID consolidada apenas no clique do badge da tarefa
- **Dependências Sobre Notas**: Substituiu a coluna Notas pela coluna Dependências mais útil
- **Notas de Lançamento no Aplicativo**: Notas de lançamento do Task viewer exibidas no banner superior
- **Navegação Baseada em Abas**: Notas de lançamento integradas no sistema de abas com funcionalidade de fechar

### Atualizações de Arquitetura
- **Compatibilidade com Módulos ES**: Removida dependência do busboy para melhor suporte a módulos ES
- **Análise de Formulários Nativa**: Substituiu análise de formulários de terceiros por built-ins do Node.js
- **Atualização de Versão**: Atualizado para v2.1.0 (para o task viewer) para refletir adições significativas de recursos

## 🐛 Correções de Bugs

### 🚨 CORREÇÃO CRÍTICA: Upload de Arquivos Cria Cópias Estáticas
**O Problema**: Ao adicionar perfis carregando um arquivo tasks.json, o sistema estava criando uma cópia estática no diretório `/tmp/`. Isso significava que quaisquer mudanças no seu arquivo de tarefa real NÃO seriam refletidas no visualizador - as tarefas pareceriam presas em seu estado original (ex.: mostrando "em progresso" quando na verdade "concluída").

**A Solução**: Removido completamente o upload de arquivos. Agora você deve inserir o caminho da pasta diretamente, e o sistema automaticamente adiciona `/tasks.json`. Isso garante que o visualizador sempre leia do seu arquivo ativo real.

**Como usar**: 
1. Navegue para sua pasta de dados shrimp no terminal
2. Digite `pwd` para obter o caminho completo (destacado em amarelo na UI)
3. Cole este caminho no campo "Caminho da Pasta de Tarefas"
4. O sistema automaticamente usa `[seu-caminho]/tasks.json`

![Captura de Tela do Modal Adicionar Perfil](/releases/add-profile-modal.png)

### Gerenciamento de Perfis
- **Seleção Automática Corrigida**: Novos perfis agora são automaticamente selecionados e carregados após a criação
- **Problemas de Importação Resolvidos**: Corrigidos problemas de importação de módulos ES com biblioteca busboy
- **Modal de Edição Unificado**: Combinado renomeação e edição de raiz do projeto em interface única

### Manipulação de Dados
- **Persistência da Raiz do Projeto**: Caminhos da raiz do projeto agora salvos adequadamente com dados do perfil
- **Carregamento de Tarefas**: Corrigidas condições de corrida ao alternar entre perfis
- **Gerenciamento de Estado**: Melhor manipulação do estado de seleção de perfil

## 🗑️ Removido

### Recursos Descontinuados
- **Dependência Busboy**: Substituída por análise de formulários nativa do Node.js
- **Coluna Notas**: Substituída pela coluna Dependências mais útil
- **Botões de Cópia Individuais**: Cópia de UUID consolidada no clique do badge da tarefa
- **Botão de Renomeação Separado**: Mesclado no botão Editar Perfil unificado

## 📝 Detalhes Técnicos

### Novos Endpoints da API
- **PUT /api/update-profile/:id**: Atualizar nome e configurações do perfil
- **Enhanced /api/tasks/:id**: Agora inclui projectRoot na resposta
- **GET /releases/*.md**: Servir arquivos markdown das notas de lançamento

### Componentes Frontend
- **Componente ReleaseNotes**: Notas de lançamento lindamente renderizadas em markdown
- **TaskTable Aprimorada**: Suporte para colunas de dependências e ações
- **TaskDetailView Melhorada**: Caminhos de arquivos clicáveis com cópia de caminho completo

### Configuração
- **Armazenamento da Raiz do Projeto**: Perfis agora armazenam caminho projectRoot opcional
- **Persistência de Configurações**: Todos os dados do perfil salvos em ~/.shrimp-task-viewer-settings.json

## 🎯 Resumo

A versão 2.1.0 transforma o Task Viewer em uma ferramenta de desenvolvimento mais integrada com gerenciamento aprimorado de caminhos de arquivos, manipulação melhorada de UUID e melhor visualização de relacionamentos de tarefas. O gerenciamento unificado de perfis e notas de lançamento no aplicativo proporcionam uma experiência do usuário mais coesa, mantendo a interface limpa e intuitiva.