# 🦐 새우 작업 관리자 v4.0.0 릴리스 노트

*릴리스 날짜: 2025년 9월 3일*

## 📋 목차

- [주요 신기능](#주요-신기능)
  - [초기 요청 표시 및 요약 생성](#초기-요청-표시--요약-생성)
  - [향상된 릴리스 노트 경험](#향상된-릴리스-노트-경험)
  - [아카이브 관리 시스템](#아카이브-관리-시스템)
  - [향상된 에이전트 관리](#향상된-에이전트-관리)
  - [재설계된 히스토리 뷰](#재설계된-히스토리-뷰)
- [기술적 개선사항](#기술적-개선사항)
  - [성능 및 인프라](#성능--인프라)
  - [테스트 커버리지](#테스트-커버리지)
- [중요 버그 수정](#중요-버그-수정)
  - [스크롤 문제 해결](#스크롤-문제-해결)
  - [UI/UX 수정](#uiux-수정)
- [업그레이드 방법](#업그레이드-방법)
- [다음 계획](#다음-계획)

## 🎉 주요 신기능

### 💡 초기 요청 표시 및 요약 생성

작업 목록 뒤에 숨겨진 컨텍스트를 보고 이해할 수 있는 기능이 새로 추가되었습니다. 초기 요청 표시는 작업 계획을 시작하게 된 원래 사용자 요청을 캡처하고 영구적으로 저장합니다. 이는 몇 주 또는 몇 달 후에도 이러한 작업이 왜 존재하고 어떤 문제를 해결하려고 했는지 즉시 기억을 되살릴 수 있음을 의미합니다.

또한, OpenAI를 활용하여 달성한 것에 대한 간결한 개요를 생성하는 지능적인 요약 기능이 추가되었습니다. 요약 버튼을 클릭하기만 하면, OpenAI API 키를 사용하여 시스템이 완료된 모든 작업을 분석하고 진행 상황에 대한 명확한 요약을 제공합니다. 이는 프로젝트 상태 업데이트, 팀 커뮤니케이션 또는 복잡한 구현에서 현재 위치를 파악하는 데 매우 유용합니다.

### 📖 향상된 릴리스 노트 경험

릴리스 노트 시스템이 처음부터 완전히 재구상되었습니다. 정적 텍스트 대신, 이제 사이드바에 접을 수 있는 목차가 있는 상호작용적이고 탐색 가능한 경험을 제공합니다. 각 버전을 확장하여 섹션 개요를 표시할 수 있어 필요한 정보로 빠르게 이동할 수 있습니다.

구현에는 색상으로 구분된 제목을 포함한 정교한 스타일링이 포함됩니다 - 메인 섹션은 핑크색, "새로운 기능"은 흰색, "버그 수정"은 주황색, 개요 섹션은 연한 파란색입니다. 텍스트는 가독성을 높이기 위해 25% 더 크게 표시되며, h2에서 h5까지 모든 마크다운 요소가 제대로 렌더링됩니다.

사이드바와 콘텐츠 영역이 독립적으로 스크롤되어 광범위한 문서를 탐색하는 동안 현재 위치를 잃지 않도록 보장합니다. 맞춤형 청록색 테마 스크롤바는 애플리케이션의 디자인 언어와 시각적 일관성을 제공합니다.

### 📚 아카이브 관리 시스템

아카이브 기능은 작업 목록 관리 방식을 혁신합니다. 상세한 초기 요청에서 복잡한 작업 세트를 생성했지만 다른 작업을 먼저 수행해야 한다는 것을 깨달은 적이 있나요? 아카이브 시스템이 이 문제를 완벽하게 해결합니다.

작업 목록을 아카이브하면 전체 작업 모음이 - 이를 생성한 초기 요청을 포함하여 - 나중에 사용할 수 있도록 안전하게 저장됩니다. 이를 통해 이전 계획 작업을 잃지 않고 새로운 작업 목록으로 새롭게 시작할 수 있습니다. 아카이브된 작업으로 돌아갈 준비가 되면 현재 워크플로우로 다시 가져오기만 하면 됩니다. 이는 동시에 여러 기능을 작업하거나 컨텍스트를 자주 전환해야 하는 개발자에게 특히 유용합니다.

아카이브 인터페이스는 히스토리 페이지와 동일한 세련된 디자인을 공유하여 애플리케이션 전체에서 일관되고 직관적인 사용자 경험을 제공합니다. 모든 아카이브된 작업 목록을 볼 수 있고, 생성된 시기를 확인할 수 있으며, 필요할 때 어떤 아카이브든 빠르게 복원할 수 있습니다.

![아카이브 대화상자](./archive-dialog.png)
*작업 탭에서 아카이브 버튼을 눌렀을 때 나타나는 현재 작업 아카이브 대화상자. 프로젝트 이름, 작업 수, 상태 분석, 그리고 이러한 작업을 생성한 완전한 초기 요청을 포함하여 아카이브될 내용의 요약을 보여줍니다*

아카이브 목록 뷰는 초기 요청과 작업 통계와 함께 모든 아카이브된 작업 목록을 표시합니다:

![아카이브 목록](./archive-list.png)
*아카이브된 작업 목록의 목록을 보여주는 아카이브 탭. 사용자가 "보기"를 클릭하여 아카이브된 작업 목록 내의 모든 작업을 검사하거나, "삭제"를 클릭하여 아카이브를 영구적으로 제거하거나, "가져오기" 버튼을 눌러 작업을 현재 워크플로우로 복원할 수 있습니다*

아카이브를 복원할 준비가 되면, 가져오기 대화상자에서 현재 목록에 작업을 추가하거나 완전히 교체하는 옵션을 제공합니다:

![아카이브 가져오기 대화상자](./archive-import.png)
*가져오기를 눌렀을 때 나타나는 아카이브 가져오기 대화상자. 아카이브된 작업을 복원하기 위한 유연한 옵션을 제공합니다 - 현재 작업 목록에 추가하거나 기존 작업을 아카이브된 작업으로 완전히 교체할 수 있습니다*

가져오기가 완료되면 완전한 초기 요청과 작업 분석을 포함한 아카이브된 작업의 모든 세부사항을 볼 수 있습니다:

![아카이브 세부정보 뷰](./archive-details.png)
*초기 요청과 요약이 포함된 완전한 작업 목록을 보여주는 아카이브 세부정보 페이지*

### 새로운 MCP 도구 추가

작업 뷰어에 아카이브와 히스토리 기능이 추가되었으므로, Claude 에이전트가 아카이브와 히스토리를 완전히 제어할 수 있도록 MCP 도구도 업데이트해야 한다고 생각했습니다.

아카이브 및 히스토리 기능에 프로그래밍 방식으로 액세스할 수 있도록 포괄적인 MCP(모델 컨텍스트 프로토콜) 도구 세트가 구현되었습니다. 이러한 도구를 통해 AI 에이전트와 외부 시스템이 구조화된 API를 통해 작업 관리 워크플로우와 상호작용할 수 있습니다.

**7개의 새로운 MCP 도구:**

- **create_archive**: 조직을 위한 선택적 설명과 함께 현재 작업 목록의 백업 생성
- **list_archives**: 생성 날짜와 작업 수를 포함한 메타데이터와 함께 모든 아카이브된 작업 목록 탐색
- **restore_from_archive**: 병합 또는 교체 옵션으로 아카이브된 작업을 현재 워크플로우로 가져오기
- **get_task_history**: 모든 작업 변경, 업데이트 및 상태 전환의 포괄적인 감사 추적 검색
- **get_deleted_tasks**: 복구 또는 감사 목적으로 삭제된 작업 정보에 액세스
- **recover_task**: 고유 식별자로 이전에 삭제된 작업 복원
- **sync_task_state**: 다양한 저장 위치 간의 작업 데이터 일관성 동기화 및 충돌 해결

각 도구는 강력한 Zod 스키마 검증, 포괄적인 오류 처리 및 이중 언어 템플릿 지원(영어/중국어)을 포함합니다. 구현은 기존 작업 모델과 적절한 TypeScript 통합을 특징으로 하며 웹 인터페이스와 완전한 호환성을 유지합니다.

### 🤖 향상된 에이전트 관리

이번 릴리스에서 에이전트 기능이 크게 확장되었습니다. 새로운 대량 에이전트 할당 기능을 통해 직관적인 드롭다운 인터페이스를 통해 여러 작업에 AI 에이전트를 동시에 할당할 수 있습니다. 개별 작업 할당은 이제 페이지 새로고침 없이 이루어져 워크플로우가 더 매끄럽고 효율적입니다.

에이전트 정보 모달이 완전히 개편되어 더 명확한 설명과 에이전트 기능에 대한 더 나은 가시성을 제공합니다. 에이전트 설명이 빈 채로 나타나는 중요한 문제와 프로덕션 작업 목록을 작업할 때 발생하는 500 오류가 수정되었습니다.

### 📊 재설계된 히스토리 뷰

히스토리 뷰가 아카이브 시스템의 세련된 인터페이스에 맞추어 변환되었습니다. 가장 중요한 것은 이제 메인 뷰에서 메모 대신 초기 요청을 표시하여 각 과거 작업 목록에 대한 즉각적인 컨텍스트를 제공합니다. 레이아웃은 더 나은 열 간격과 더 효율적인 필터링 기능으로 최적화되었습니다.

## 🔧 기술적 개선사항

### 성능 및 인프라

애플리케이션의 성능과 개발 경험에 상당한 개선이 이루어졌습니다. 새로운 빌드 시스템에는 자동으로 빌드하고 서버를 시작하는 간소화된 `npm run build` 명령이 포함됩니다. Playwright가 엔드투엔드 테스트를 위해 통합되어 업데이트 전반에 걸쳐 UI 안정성을 보장합니다.

서버는 향상된 오류 처리와 검증을 특징으로 하는 새로운 아카이브 엔드포인트로 강화되었습니다. 더 나은 데이터 가져오기 전략을 통해 응답 시간이 최적화되었습니다.

**MCP 서버 아키텍처:**

MCP 서버 구현은 Claude와의 안정적인 통신을 위해 StdioServerTransport와 함께 하위 수준 서버 클래스를 사용합니다. 아키텍처에는 다음이 포함됩니다:

- `ListToolsRequestSchema`와 `CallToolRequestSchema`에 대한 `setRequestHandler`를 통한 적절한 도구 등록
- 포괄적인 도구 정의가 포함된 서버 기능 선언
- 자세한 로깅과 사용자 친화적인 오류 메시지를 포함한 강력한 오류 처리
- JSON 지속성과 자동 백업이 포함된 메모리 기반 작업 저장소
- 동적 콘텐츠 생성이 포함된 이중 언어 템플릿 지원

### 테스트 커버리지

이번 릴리스에는 모든 새로운 기능에 대한 포괄적인 테스트 커버리지가 포함됩니다:
- 아카이브 기능 테스트
- 릴리스 노트 스크롤 테스트
- 히스토리 뷰 통합 테스트
- 에이전트 할당 테스트
- 요약 생성 테스트
- **MCP 도구 검증 테스트**: 실제 작업 생성, 아카이브, 복원 시나리오를 포함한 완전한 아카이브/복원 워크플로우 테스트
- **템플릿 처리 테스트**: Handlebars 템플릿 렌더링과 변수 치환 검증
- **오류 처리 테스트**: 모든 MCP 도구에서 엣지 케이스와 실패 시나리오의 포괄적인 테스트

## 🐛 중요 버그 수정

### 스크롤 문제 해결

릴리스 노트와 다른 탭에 영향을 준 중요한 스크롤바 가시성 문제가 수정되었습니다. 애플리케이션은 이제 맞춤형 스타일링으로 스크롤바를 제대로 표시하여 콘텐츠에 항상 액세스할 수 있도록 보장합니다. 사이드바와 콘텐츠 영역 간의 독립적인 스크롤이 완벽하게 작동합니다.

### UI/UX 수정

- 접을 수 있는 섹션의 화살표 위치가 수정되었습니다
- 인터페이스 전반에 걸쳐 색상 대비가 개선되었습니다
- 로딩 상태가 더 정보적이 되었습니다
- 오류 메시지가 더 명확한 지침을 제공합니다

### 릴리스 후 수정사항 (2025년 9월)

초기 릴리스 후 몇 가지 중요한 문제가 식별되고 해결되었습니다:

#### 스크롤 스파이 및 목차 수정

- **스크롤 스파이 중복 하이라이트 수정**: "사용 방법"과 같은 동일한 이름을 가진 섹션들이 여러 목차 항목을 동시에 하이라이트하는 문제가 발생했습니다. 부모 컨텍스트를 사용한 고유 ID 생성을 구현하여 스크롤할 때 올바른 섹션만 하이라이트되도록 했습니다.
- **스크롤 스파이 하이라이트 중단 수정**: 고유 ID를 구현한 후 스크롤 스파이 기능이 완전히 작동하지 않았습니다. 목차 파싱과 콘텐츠 렌더링 간의 일관성을 보장하기 위해 중앙집중식 ID 생성 함수를 추가했습니다.
- **릴리스 노트의 모두 접기 버튼 수정**: 잘못된 버전 범위 처리로 인해 버튼이 작동하지 않았습니다. 확장/축소 함수를 업데이트하여 버전 매개변수를 수락하고 올바른 릴리스 버전을 전달하도록 했습니다.

#### 용어 및 날짜 수정

- **모달 용어 업데이트**: "새 프로필 추가" 모달이 인터페이스 전반에 걸쳐 "프로젝트" 용어를 일관되게 사용하도록 변경했습니다. "프로필 이름" 대신 "프로젝트 이름"을 표시하도록 영어 번역을 업데이트했습니다.
- **v4.0.0 릴리스 날짜 수정**: 릴리스 날짜를 2025-01-02에서 실제 릴리스 날짜인 2025-09-03으로 수정했습니다.

#### MCP 서버 및 템플릿 처리 수정

- **함수 이름 충돌 수정**: MCP 도구와 모델 함수 간의 중복 함수 이름으로 인한 서버 충돌을 해결했습니다. `getDeletedTasksTool` → `getDeletedTasks` 및 `recoverTaskTool` → `recoverTask`로 적절한 가져오기 별칭과 함께 업데이트했습니다.
- **템플릿 처리 문제 수정**: 누락된 템플릿 파일(`empty.md`, `noResults.md`, `success.md`) 생성과 생성기와 템플릿 간의 변수 이름 매핑 수정을 통해 도구 응답에 원시 Handlebars 구문이 나타나는 문제를 해결했습니다.
- **MCP 도구 등록 수정**: 7개의 새로운 도구가 모두 MCP 인터페이스를 통해 제대로 액세스 가능하도록 도구 내보내기 이름과 등록을 수정했습니다.
- **TypeScript 컴파일 오류 수정**: 필터 함수의 async/await 문제를 해결하고 선택적 매개변수에 대한 적절한 타입 어설션을 추가했습니다.

이러한 수정사항은 적절한 네비게이션, 일관된 용어, 정확한 릴리스 정보 및 완전히 기능하는 MCP 도구 통합으로 매끄러운 사용자 경험을 보장합니다.

## 📝 업그레이드 방법

v4.0.0으로 업그레이드하는 것은 간단합니다:

1. 저장소에서 최신 변경사항을 가져옵니다
2. `npm install`을 실행하여 의존성을 업데이트합니다
3. `npm run build`를 실행하여 애플리케이션을 빌드하고 시작합니다
4. 모든 새로운 스타일이 로드되도록 브라우저 캐시를 지웁니다

그게 전부입니다! 데이터베이스 마이그레이션이 필요하지 않습니다 - 빌드하고 실행하기만 하면 됩니다.

## 🚀 다음 계획

버전 4.0.0은 새우 작업 관리자의 새로운 표준을 설정합니다. 아카이브 관리, 초기 요청 추적, 요약 생성, 향상된 릴리스 노트 시스템, 포괄적인 MCP API 통합의 결합은 복잡한 개발 워크플로우 관리를 위한 강력한 도구키트를 만듭니다.

새로운 MCP 아카이브 및 히스토리 도구 시스템은 다음과 같은 가능성을 열어줍니다:
- 외부 개발 도구 및 CI/CD 파이프라인과의 통합
- AI 에이전트가 주도하는 자동화된 작업 관리 워크플로우
- 작업 데이터에 대한 프로그래밍 방식 액세스를 통한 향상된 협업
- 개발 진행 상황에 대한 고급 분석 및 보고
- 반복적인 작업 관리 작업을 위한 맞춤형 자동화 스크립트

이 기반은 새우 작업 관리자를 단순한 독립형 도구가 아닌 더 큰 개발 생태계의 핵심 구성 요소로 자리매김합니다.