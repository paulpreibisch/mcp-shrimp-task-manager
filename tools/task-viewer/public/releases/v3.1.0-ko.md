# 🦐 Shrimp Task Manager v3.1.0 릴리스 노트

## 🎉 신기능

### 1️⃣ 초기 요청 표시

#### 개요
버전 3.1.0은 일반적인 사용자 요구사항인 **작업 목록 뒤에 있는 컨텍스트 이해**를 해결하는 혁신적인 기능을 도입합니다. 새로운 **초기 요청 표시** 기능은 작업 계획을 시작한 원래 사용자 요청을 캡처하고 눈에 띄게 표시하여 작업이 생성된 이유에 대한 필수적인 컨텍스트를 제공합니다.

![초기 요청 기능](/releases/initial-request-feature.png)

#### 🌟 주요 하이라이트

##### 📋 **지속적인 컨텍스트**
- `plan_task` 도구를 사용할 때 초기 사용자 요청이 자동으로 저장됩니다
- 프로젝트의 출처와 목적에 대한 명확한 이해를 제공합니다
- 팀 구성원들이 개별 작업을 자세히 살펴보지 않고도 전체 목적을 빠르게 파악할 수 있도록 도와줍니다

##### 🎨 **아름다운 다크 테마 UI**
- 기존 다크 테마 디자인과 완벽하게 통합됩니다
- Shrimp 브랜드 컬러 팔레트를 사용한 깔끔하고 현대적인 인터페이스
- 즉각적인 가시성을 위해 작업 테이블 위에 눈에 띄게 배치

##### 🔄 **접을 수 있는 인터페이스**
- 화면 공간을 최대화하는 **확장/축소 가능한 디자인**
- 회전하는 화살표 표시기가 있는 부드러운 애니메이션
- 세션 중 사용자 선택사항을 기억합니다
- 헤더를 클릭하여 확장된 상태와 축소된 상태 간을 전환합니다

#### 📸 동작 중인 기능

위 스크린샷은 작업 계획 프로세스를 시작한 포괄적인 프로젝트 요청을 표시하는 초기 요청 기능을 보여줍니다.

**주요 시각적 요소:**
- 🏷️ 악센트 틸 색상(`#4fbdba`)의 **"초기 요청" 헤더**
- 📄 적절한 줄 바꿈이 있는 읽기 쉬운 형식으로 표시되는 **전체 요청 텍스트**
- ▼ 뷰를 토글할 때 회전하는 **축소 화살표**
- 🎨 나머지 애플리케이션과 일치하는 **다크 테마 스타일링** (`#16213e` 배경)

#### 🔧 기술 구현

##### 백엔드 개선사항
- 다음을 포함하는 **새로운 `TasksData` 구조**:
  - `initialRequest`: 원래 계획 요청을 저장
  - `createdAt`: 작업이 처음 생성된 타임스탬프
  - `updatedAt`: 마지막 수정 타임스탬프
  - `tasks`: 작업 객체 배열 (기존 구조)

##### 스마트 하위 호환성
- 기존 작업 파일에 대한 **자동 형식 감지**
- 이전 형식 (작업 배열) → 새 형식 (TasksData 객체) 변환
- 호환성 중단 없음 - 모든 기존 설치가 계속 작동
- 레거시 파일에서 누락된 초기 요청을 우아하게 처리

##### API 업데이트
- 서버 엔드포인트는 이제 작업과 함께 초기 요청 데이터를 반환합니다
- 이전 클라이언트와의 응답 구조 호환성을 유지합니다
- 서버 부하를 줄이는 효율적인 캐싱

#### 🌍 국제화
7개 언어에 대한 전체 지원:
- 🇬🇧 영어: "Initial Request"
- 🇨🇳 중국어: "初始请求"
- 🇪🇸 스페인어: "Solicitud Inicial"
- 🇵🇹 포르투갈어: "Solicitação Inicial"
- 🇹🇷 터키어: "İlk Talep"
- 🇰🇷 한국어: "초기 요청"
- 🇯🇵 일본어: "初期リクエスト"

#### 🧪 테스트
신뢰성을 보장하는 포괄적인 테스트 커버리지:
- ✅ 백엔드 데이터 구조 테스트
- ✅ 작업 계획 통합 테스트
- ✅ 하위 호환성 테스트

#### 📈 이점

1. **향상된 팀 협업**
   - 새 팀 구성원이 프로젝트 컨텍스트를 빠르게 이해할 수 있습니다
   - 외부 문서의 필요성을 줄입니다
   - 자체 문서화 작업 시스템을 생성합니다

2. **더 나은 작업 관리**
   - 요청과 결과 작업 간의 명확한 연결
   - 작업이 원래 요구사항과 일치하는지 더 쉽게 검증
   - 범위 확장 또는 누락된 요구사항을 식별하는 데 도움

3. **향상된 사용자 경험**
   - 작업 관리를 방해하지 않는 깔끔하고 눈에 거슬리지 않는 디자인
   - 접을 수 있는 인터페이스를 통한 선택적 가시성
   - 기존 UI 패턴과 일치

#### 🚀 사용 방법

1. **새 작업 계획의 경우**: 작업 계획자를 사용하면 초기 요청이 자동으로 저장됩니다
2. **보기**: 뷰어의 작업 테이블 위에 초기 요청이 나타납니다
3. **토글**: 헤더를 클릭하여 요청 표시를 확장/축소합니다
4. **기존 프로젝트의 경우**: 이 기능은 모든 기존 작업 파일과 호환됩니다 (레거시 파일의 경우 초기 요청이 비어있을 수 있습니다)

#### 🔄 마이그레이션 가이드

**조치가 필요하지 않습니다!** 이 기능은 완전히 하위 호환됩니다:
- 기존 작업 파일은 수정 없이 계속 작동합니다
- 새 작업 계획은 자동으로 향상된 형식을 사용합니다
- 뷰어는 두 형식을 모두 완벽하게 처리합니다

### 2️⃣ 프로젝트 설정 명령

#### 개요
새로운 **`setup_project`** MCP 명령은 작업 관리를 위해 프로젝트를 초기화하는 방식을 혁신합니다. 단일 명령으로 모든 저장소를 Shrimp Task Manager와 작동하도록 즉시 구성할 수 있습니다.

#### 🎯 주요 기능

##### 🚀 **원클릭 설정**
간단히 말하기만 하면 됩니다: `"task-manager를 사용해서 새 프로젝트를 설정해줘"`
- 현재 프로젝트를 자동으로 구성합니다
- 수동 구성이 필요하지 않습니다
- 모든 git 저장소 또는 프로젝트 폴더에서 작동합니다

##### 🤖 **스마트 프로필 생성**
- 프로젝트 경로에서 의미있는 프로필 이름을 자동 생성합니다
- 컨텍스트를 위해 폴더 이름을 지능적으로 사용합니다
- 일반적인 상위 폴더('repos', 'projects' 등)를 피합니다
- 예시: `/home/user/projects/my-awesome-app` → `my_awesome_app`

##### 📁 **자동 파일 관리**
- 존재하지 않으면 데이터 디렉터리를 생성합니다
- 프로젝트 메타데이터로 `tasks.json`을 초기화합니다
- `~/.shrimp-task-viewer-settings.json`을 자동으로 업데이트합니다
- 기존 프로젝트를 우아하게 처리합니다 (중복 대신 업데이트)

#### 💻 사용 방법

**기본 사용법:**
```
"task-manager를 사용해서 새 프로젝트를 설정해줘"
```

**사용자 정의 프로필 이름과 함께:**
```
"setup_project를 profileName: 'my-custom-name'으로 사용해줘"
```

**특정 경로에서:**
```
"setup_project를 projectPath: '/path/to/project'로 사용해줘"
```

#### 📝 생성되는 것들

1. `~/.shrimp-task-viewer-settings.json`에 **설정 항목**:
   ```json
   {
     "profileName": "your_project_name",
     "taskPath": "/path/to/data/your_project_name_tasks.json",
     "projectRoot": "/path/to/your/project",
     "addedAt": "2025-08-31T16:35:09.510Z"
   }
   ```

2. 초기 메타데이터가 있는 **작업 파일**:
   ```json
   {
     "tasks": [],
     "initialRequest": "Project: your_project_name\nCreated: ...\nPath: ...",
     "createdAt": "2025-08-31T16:35:09.521Z",
     "updatedAt": "2025-08-31T16:35:09.521Z"
   }
   ```

#### 🔄 Task Viewer와의 통합
- 프로젝트가 즉시 프로젝트 탭에 나타납니다
- 작업 계획 및 관리 준비가 완료됩니다
- 모든 기존 기능과 완전히 호환됩니다
- 초기 요청 표시 기능과 완벽하게 작동합니다

#### 💡 사용 사례
- **새 저장소 설정**: 새로 클론한 저장소를 즉시 구성
- **다중 프로젝트**: 여러 프로젝트에서 작업을 쉽게 관리
- **팀 온보딩**: 새 팀 구성원을 위한 빠른 설정
- **컨텍스트 전환**: 프로젝트 컨텍스트 간 손쉬운 전환

### 3️⃣ AI 기반 에이전트 배정

#### 개요
버전 3.1.0은 OpenAI의 GPT 모델을 사용하여 전문화된 에이전트를 여러 작업에 동시에 지능적으로 배정하는 **AI 기반 에이전트 배정**을 도입합니다. 이 기능은 작업 설명과 요구사항을 기반으로 가장 적합한 에이전트와 작업을 자동으로 매칭하여 프로젝트 계획을 극적으로 가속화합니다.

#### 🤖 주요 기능

##### **일괄 AI 배정**
- 여러 작업을 선택하고 한 번의 클릭으로 모든 작업에 에이전트를 배정합니다
- OpenAI GPT 모델을 사용하여 작업 설명을 분석하고 최적의 에이전트와 매칭합니다
- 전역 에이전트(Claude 폴더에서)와 프로젝트별 에이전트를 모두 지원합니다
- 녹색 테두리가 있는 독특한 로봇 이모지(🤖) 버튼으로 시각적 피드백을 제공합니다

##### **스마트 에이전트 매칭**
- AI가 작업 이름, 설명 및 기술적 요구사항을 분석합니다
- 에이전트의 전문화 및 기능을 고려합니다
- 전문화된 에이전트가 적합하지 않을 때 범용 에이전트로 지능적 대체를 제공합니다
- 관련 작업 간에 컨텍스트 인식을 유지합니다

##### **향상된 UI 제어**
- 새로운 일괄 작업 버튼: "🤖 AI 에이전트 배정 (X개 작업 선택됨)"
- 개별 작업 명령을 위한 녹색 테두리 로봇 이모지 버튼
- 신뢰할 수 있는 자동화 테스트를 위한 테스트 ID 추가
- AI 처리 중 로딩 상태 및 진행률 표시기

#### 💻 사용 방법

1. **작업 선택**: 에이전트를 배정하려는 작업 옆의 체크박스를 선택합니다
2. **AI 배정 클릭**: 일괄 작업 표시줄에서 "🤖 AI 에이전트 배정" 버튼을 클릭합니다
3. **자동 처리**: AI가 작업을 분석하고 최적의 에이전트를 배정합니다
4. **결과 검토**: 작업이 배정된 에이전트로 즉시 업데이트됩니다

#### 🔧 기술 구현

- **OpenAI 통합**: 지능적인 에이전트 매칭을 위해 GPT-3.5-turbo 또는 GPT-4를 사용합니다
- **배치 처리**: 단일 API 호출로 여러 작업을 효율적으로 처리합니다
- **오류 처리**: 도움이 되는 구성 가이드와 함께 API 키 문제에 대한 우아한 대체
- **테스트 커버리지**: AI 배정 기능의 100% 커버리지를 가진 포괄적인 테스트 스위트

#### ⚙️ 구성

다음 방법 중 하나로 OpenAI API 키를 설정하세요:
- **환경 변수**: `OPENAI_API_KEY=your-key-here`
- **설정 파일**: 앱 내 전역 설정에서 구성
- **프로젝트 .env**: 프로젝트의 `.env` 파일에 추가

#### 🧪 테스트 개선

- AI 배정 기능을 위한 포괄적인 테스트 스위트 생성
- 신뢰할 수 있는 테스트를 위해 모든 대화형 버튼에 테스트 ID 추가
- 격리된 단위 테스트를 위한 모의 API 응답
- API 키 구성을 포함한 오류 시나리오 커버리지

### 5️⃣ 수동 일괄 에이전트 배정 드롭다운

#### 개요
버전 3.1.0은 여러 작업에 즉석에서 사용자 제어 에이전트 배정을 제공하는 **수동 일괄 에이전트 배정 드롭다운**을 도입합니다. AI 기반 배정과 달리 이 기능은 사용자가 특정 에이전트를 직접 선택하고 선택된 모든 작업에 즉시 배정할 수 있게 합니다.

#### 🎯 주요 기능

##### **즉석 수동 배정**
- 여러 작업을 선택하고 드롭다운에서 사용 가능한 에이전트를 선택합니다
- AI 처리 시간 없이 즉시 배정합니다
- "에이전트 배정" 및 "에이전트 없음" 옵션을 모두 지원합니다
- 정확히 어떤 에이전트를 사용하고 싶은지 알 때 완벽합니다

##### **향상된 일괄 작업 표시줄**
- **왼쪽**: 새로운 에이전트 배정 드롭다운과 함께 "X개 작업 선택됨:"을 표시합니다
- **오른쪽**: 기존 AI 배정 버튼을 유지합니다
- **더 나은 구성**: 수동 및 AI 기반 옵션 간의 깔끔한 분리
- **반응형 디자인**: 다크 테마와 매칭하는 적절한 스타일의 드롭다운

##### **완벽한 통합**
- 기존 AI 기반 배정과 함께 작동합니다
- 드롭다운은 모든 사용 가능한 에이전트(전역 및 프로젝트별)를 나열합니다
- 에이전트 색상 및 스타일 일관성을 유지합니다
- 배정 후 플레이스홀더 텍스트로 재설정됩니다

#### 💻 사용 방법

1. **작업 선택**: 여러 작업 옆의 체크박스를 선택합니다
2. **에이전트 선택**: 일괄 작업 표시줄에서 "에이전트 배정..." 드롭다운을 클릭합니다
3. **옵션 선택**: 사용 가능한 에이전트나 "에이전트 없음"을 선택하여 배정 해제합니다
4. **즉시 배정**: 선택된 모든 작업이 즉시 업데이트됩니다

#### 🎨 UI 향상
- 다크 테마 통합이 있는 사용자 정의 스타일 드롭다운
- 호버 효과 및 적절한 비활성 상태
- 기존 UI 구성 요소와 일치
- 수동 및 AI 옵션 간의 명확한 시각적 분리

### 6️⃣ 새로고침 없는 에이전트 배정

#### 개요
개별 작업에 에이전트를 배정할 때 성가신 페이지 새로고침을 제거하는 중요한 **사용자 경험 개선**입니다. 이제 인터페이스가 작업 목록에서의 위치를 잃지 않고 즉시 업데이트됩니다.

#### 🚀 주요 개선사항

##### **낙관적 UI 업데이트**
- 에이전트 배정이 인터페이스에서 즉시 업데이트됩니다
- 에이전트 선택 후 페이지 새로고침을 더 이상 기다릴 필요가 없습니다
- 오류 처리를 통한 백그라운드 서버 동기화
- 저장 표시기를 통한 시각적 피드백

##### **스마트 오류 처리**
- 반응성 있는 느낌을 위한 즉시 UI 업데이트
- 서버 업데이트 실패 시 자동 되돌리기
- 성공 및 오류 상태에 대한 토스트 알림
- 적절한 오류 복구로 데이터 무결성 유지

##### **로컬 상태 관리**
- 지능적인 로컬 상태 캐싱을 구현합니다
- 보류 중인 로컬 업데이트와 서버 데이터를 병합합니다
- 네트워크 요청 중에도 사용자 상호작용을 보존합니다
- 느린 연결에서도 완벽한 경험을 제공합니다

#### 💻 기술 구현

##### **고급 상태 관리**
- 보류 중인 변경사항을 추적하기 위한 `localTaskUpdates` 상태 추가
- 서버 데이터와 로컬 업데이트를 결합하는 `mergedData` 생성
- 롤백 기능을 가진 낙관적 업데이트 패턴 구현
- 기존 데이터 구조와 완전한 호환성 유지

##### **성능 최적화**
- 업데이트를 지능적으로 일괄 처리하여 서버 요청을 줄입니다
- 불필요한 전체 페이지 새로고침을 제거합니다
- 개별 에이전트 배정의 반응성을 향상시킵니다
- 사용자 중단 없는 백그라운드 동기화

#### 🧪 향상된 테스트
- 일괄 및 개별 배정 모두에 대한 포괄적인 테스트 커버리지
- 신뢰할 수 있는 테스트를 위한 모의 서버 응답
- 네트워크 실패를 포함한 오류 시나리오 테스트
- UI 상태 일관성 검증

#### 🎯 이점

1. **향상된 생산성**
   - 에이전트 배정 시 더 이상 위치를 잃지 않습니다
   - 더 빠른 작업 관리 워크플로우
   - 컨텍스트 전환 및 대기 시간 감소

2. **더 나은 사용자 경험**
   - 모든 작업에 대한 즉시 시각적 피드백
   - 부드럽고 현대적인 인터페이스 동작
   - 전문가 수준의 반응성

3. **강력한 오류 처리**
   - 네트워크 문제에서 우아한 복구
   - 작업 실패 시 명확한 피드백
   - 항상 데이터 일관성 유지

### 7️⃣ 작업 내보내기 기능

#### 개요
버전 3.1.0은 사용자가 유연한 필터링 옵션과 함께 여러 형식으로 작업 데이터를 내보낼 수 있게 하는 포괄적인 **작업 내보내기 기능**을 도입합니다. 이 기능은 **테스트 주도 개발(TDD)** 방법론을 사용하여 개발되었으며, 내보내기 시스템의 모든 측면을 다루는 **40개의 포괄적인 테스트**로 강력한 기능을 보장합니다.

#### 🎯 주요 기능

##### **다중 형식 내보내기**
- **CSV 내보내기**: 쉼표, 따옴표 및 특수 문자에 대한 적절한 문자 이스케이프가 있는 전문적인 CSV 형식
- **마크다운 내보내기**: 다음을 포함한 **완전한 작업 세부사항**이 있는 포괄적인 형식:
  - **초기 요청**: 작업 계획을 시작한 원래 요청 (상단에 표시)
  - **번호가 매겨진 작업**: 모든 작업에 번호가 매겨져 있음 (작업 1, 작업 2 등) 쉬운 참조를 위해
  - **완전한 세부사항**: 설명, 메모, 구현 가이드, 검증 기준, 배정된 에이전트, 의존성, 관련 파일 및 모든 메타데이터
- 공유, 문서화 또는 데이터 분석에 적합한 깔끔하고 구조화된 출력

##### **스마트 상태 필터링**
- **선택적 내보내기**: 포함할 작업 상태 선택 (완료, 진행 중, 대기 중)
- **실시간 미리보기**: 현재 필터를 기반으로 내보낼 작업 수를 보여주는 실시간 작업 수
- **유연한 선택**: 모든 작업 내보내기 또는 특정 상태 조합으로 필터링

##### **직관적인 모달 인터페이스**
- **깔끔한 UI**: 자세한 기능 설명이 있는 다크 테마와 매치되는 전문적인 모달 디자인
- **설명이 있는 형식 선택**: 각 형식에 포함된 내용에 대한 명확한 설명 (기본 정보용 CSV, 완전한 세부사항용 마크다운)
- **상태 체크박스**: 실시간 업데이트가 있는 각 작업 상태에 대한 시각적 체크박스
- **내보내기 미리보기**: 내보내기 전에 선택된 작업의 정확한 수를 표시
- **반응형 디자인**: 다양한 화면 크기에서 완벽하게 작동

#### 💻 사용 방법

1. **내보내기 액세스**: 작업 페이지에서 "📤 내보내기" 버튼을 클릭합니다
2. **형식 선택**: 스프레드시트 사용을 위한 CSV 또는 문서화를 위한 마크다운을 선택합니다
3. **작업 필터링**: 포함할 상태 유형을 선택/선택 해제합니다 (완료, 진행 중, 대기 중)
4. **수 미리보기**: 내보낼 작업의 실시간 수를 확인합니다
5. **내보내기**: "내보내기"를 클릭하여 파일을 즉시 다운로드합니다

#### 🔧 기술 구현

##### **테스트 주도 개발**
- **40개의 포괄적인 테스트**: Vitest 및 React Testing Library를 사용한 완전한 테스트 커버리지
- **Red-Green-Refactor**: 개발 전반에 걸쳐 적절한 TDD 방법론 준수
- **테스트 카테고리**:
  - 내보내기 유틸리티: CSV 생성, 마크다운 형식화, 필터링, 작업 번호 매기기 및 초기 요청 포함을 다루는 19개 테스트
  - 모달 구성 요소: UI 상호작용, 상태 관리 및 엣지 케이스를 다루는 21개 테스트

##### **고급 CSV 내보내기**
```javascript
// 특수 문자에 대한 적절한 CSV 이스케이프
export const exportToCSV = (tasks) => {
  // 적절한 RFC 4180 준수로 쉼표, 따옴표, 줄바꿈 처리
  // 헤더: ID, 이름, 설명, 상태, 생성일, 업데이트일
};
```

##### **풍부한 마크다운 내보내기**
```javascript
// 완전한 작업 세부사항이 있는 포괄적인 마크다운
export const exportToMarkdown = (tasks, initialRequest) => {
  // 문서 상단에 초기 요청 포함
  // 쉬운 참조를 위해 모든 작업에 번호 매김 (작업 1, 작업 2 등)
  // 요약 통계와 함께 상태별로 작업 그룹화
  // 모든 작업 세부사항 포함: 설명, 메모, 구현 가이드,
  // 검증 기준, 배정된 에이전트, 의존성, 관련 파일
  // 적절한 구조와 메타데이터를 가진 전문적인 형식화
};
```

##### **스마트 파일 다운로드**
- **현대적인 브라우저 API**: 즉시 다운로드를 위한 Blob API 및 URL.createObjectURL 사용
- **자동 파일명 생성**: 타임스탬프가 있는 설명적인 파일명 생성
- **메모리 관리**: 임시 URL의 적절한 정리
- **크로스 브라우저 호환성**: 모든 현대적인 브라우저에서 작동

##### **React 상태 관리**
- **낙관적 UI 업데이트**: 적절한 오류 처리를 통한 즉시 피드백
- **로컬 상태 캐싱**: 모달 상호작용을 위한 효율적인 상태 관리
- **토스트 알림**: 사용자 작업에 대한 성공 및 오류 피드백

#### 🧪 품질 보증

##### **포괄적인 테스트**
- **내보내기 유틸리티 테스트** (16개 테스트):
  - CSV 형식 검증 및 문자 이스케이프
  - 마크다운 구조 및 콘텐츠 검증
  - 상태 필터링 논리 및 엣지 케이스
  - 빈 데이터 처리

- **모달 구성 요소 테스트** (21개 테스트):
  - UI 렌더링 및 상호작용 테스트
  - 상태 관리 검증
  - 사용자 워크플로우 검증
  - 접근성 준수

##### **엣지 케이스 커버리지**
- 빈 작업 목록
- 이름/설명에 특수 문자가 있는 작업
- 누락되거나 유효하지 않은 작업 데이터
- 네트워크 오류 시나리오
- 대용량 데이터셋 성능

#### 🎨 UI/UX 향상

##### **내보내기 버튼 통합**
- **전략적 배치**: 쉬운 액세스를 위해 작업 페이지 컨트롤에 위치
- **스마트 활성화**: 사용 가능한 작업이 없거나 로딩 중일 때 비활성화
- **시각적 일관성**: 기존 버튼 스타일링 및 다크 테마와 매치
- **명확한 아이콘**: 즉시 인식 가능한 📤 내보내기 아이콘

##### **모달 디자인**
- **다크 테마 통합**: 기존 디자인 시스템과 완벽한 통합
- **기능 설명**: 모달 상단에 내보내기 기능 및 사용 사례에 대한 명확한 설명
- **형식 설명**: 각 형식에 포함된 내용을 보여주는 인라인 설명 (기본 정보용 CSV vs 완전한 세부사항용 마크다운)
- **오버레이 상호작용**: 적절한 이벤트 처리로 밖을 클릭하여 닫기
- **키보드 네비게이션**: 완전한 키보드 접근성 지원
- **로딩 상태**: 내보내기 처리 중 명확한 피드백

#### 🚀 이점

1. **향상된 생산성**
   - 보고 및 분석을 위한 빠른 데이터 내보내기
   - 다양한 사용 사례를 위한 여러 형식 옵션
   - 유연한 필터링으로 수동 데이터 처리 감소

2. **전문적인 출력**
   - 기본 작업 정보로 Excel/Google Sheets에 완벽한 깔끔한 CSV 형식
   - 모든 작업 세부사항이 있는 완전한 프로젝트 문서에 이상적인 포괄적인 마크다운 형식
   - 두 형식 모두에 대한 적절한 문자 인코딩 및 형식화

3. **강력한 구현**
   - 100% 테스트 커버리지로 신뢰성 보장
   - TDD 접근 방식으로 품질 보장
   - 데이터 손실을 방지하는 포괄적인 오류 처리

4. **뛰어난 사용자 경험**
   - 학습 곡선이 필요 없는 직관적인 인터페이스
   - 실시간 피드백 및 미리보기 기능
   - 기존 UI 패턴과 일치

#### 📊 내보내기 형식

##### **CSV 형식**
- 헤더: ID, 이름, 설명, 상태, 생성일, 업데이트일
- 적절한 이스케이프를 통한 RFC 4180 준수
- Excel/Google Sheets 호환
- 데이터 분석 및 보고에 완벽

##### **마크다운 형식**
```markdown
# 작업 내보내기
**내보내기 날짜:** YYYY-MM-DD
총 작업: X

## 초기 요청
[작업 계획을 시작한 원래 요청]

---

## 요약 통계
- **완료:** X
- **진행 중:** X  
- **대기 중:** X

---

#### 상태: [상태 이름]

## 작업 1: [작업 이름]

**설명:**
[작업 설명]

**메모:**
[작업 메모]

**구현 가이드:**
[구현 가이드]

**검증 기준:**
[검증 기준]

**배정된 에이전트:** [에이전트 이름]

**의존성:**
- [의존성 1]
- [의존성 2]

**관련 파일:**
- ➕ **file1.js** (CREATE) - 설명 [Lines: 1-50]
- ✏️ **file2.js** (TO_MODIFY) - 설명

**메타데이터:**
- **ID:** [작업 ID]
- **상태:** [상태]
- **생성일:** YYYY-MM-DD
- **업데이트일:** YYYY-MM-DD

---
```

### 8️⃣ 테스트 인프라 개선

#### 개요
버전 3.1.0은 테스트 인프라에 대한 중요한 개선사항을 포함하여 강력한 테스트 커버리지와 신뢰할 수 있는 개발 워크플로우를 보장합니다. 구성 요소 테스트, API 모킹 및 i18n 통합에 주요 초점을 맞췄습니다.

#### 🧪 주요 개선사항

##### **향상된 테스트 설정**
- **포괄적인 i18n 통합**: 모든 구성 요소에 대한 완전한 번역 리소스로 적절한 초기화
- **브라우저 API 모킹**: PerformanceObserver, ResizeObserver, IntersectionObserver의 완전한 모킹
- **Fetch API 모킹**: 현실적인 응답 구조를 가진 포괄적인 엔드포인트 커버리지
- **스토리지 모킹**: 완전한 localStorage 및 sessionStorage 구현

##### **TemplateManagement 구성 요소 테스트**
- **100% 테스트 커버리지**: 포괄적인 기능 커버리지로 26개 테스트 모두 통과
- **상태 배지 테스트**: 모든 템플릿 상태에 대한 완전한 지원 (default, custom, env-override, env-append)
- **번역 통합**: 모든 필수 번역 키를 가진 적절한 i18n 설정
- **작업 버튼 테스트**: 편집, 미리보기, 복제, 활성화 및 재설정 기능의 완전한 커버리지

##### **템플릿 API 테스트**
- **서버 응답 구조**: `functionName` 및 `category` 속성을 포함하도록 API 응답 형식 수정
- **환경 변수 감지**: 환경 기반 템플릿에 대한 향상된 패턴 매칭
- **오류 처리**: 엣지 케이스 및 오류 시나리오의 포괄적인 테스트

##### **AI 에이전트 배정 테스트**
- **새로운 테스트 스위트**: AI 기반 일괄 에이전트 배정 기능에 대한 포괄적인 테스트 생성
- **API 통합**: 적절한 오류 처리를 통한 모의 OpenAI API 응답
- **사용자 상호작용**: UI 상호작용 및 상태 관리의 완전한 커버리지

#### 📊 테스트 결과 진행 상황
- **이전**: 여러 구성 요소에서 153개의 실패 테스트
- **이후**: 코어 구성 요소가 이제 완전히 테스트되어 상당한 감소
  - ✅ **TemplateManagement**: 26/26 테스트 통과
  - ✅ **템플릿 API**: 코어 엔드포인트 테스트 통과
  - ✅ **AI 에이전트 배정**: 완전한 테스트 커버리지

### 4️⃣ 직접 작업 실행 버튼

#### 개요
각 작업에 대해 기존 로봇 버튼과 함께 새로운 **기계 팔 이모지 버튼(🦾)**이 추가되었습니다. 이 기능은 서브 에이전트를 시작하지 않고 에이전트의 역할과 전문 지식을 사용하여 직접 작업 실행을 허용하여 에이전트 전문화를 활용하면서도 작업 실행에 대한 더 나은 가시성을 제공합니다.

#### 🟢 주요 기능

##### **직접 실행 모드**
- 시각적 구별을 위한 녹색 테두리가 있는 기계 팔 이모지 버튼(🦾)
- 서브 에이전트를 시작하는 대신 Claude의 메인 컨텍스트를 사용하여 직접 작업을 실행합니다
- 서브 에이전트 오버헤드 없이 에이전트 역할 및 전문 지식 적용을 유지합니다
- 작업 실행 단계에 대한 가시성을 원하는 사용자에게 완벽합니다

##### **스마트 명령 생성**
- 작업 관리자의 경우: `작업 계획자를 사용하여 이 작업을 실행: [UUID]`
- 전문화된 에이전트의 경우: `작업 계획자를 사용하여 이 작업을 실행: [UUID] [에이전트] 에이전트의 역할 사용`
- 정확한 작업 식별을 위해 자동으로 작업 UUID 포함
- 에이전트의 전문화된 지식을 직접 적용하라는 명확한 지시사항

##### **향상된 사용자 경험**
- 최대한의 유연성을 위한 두 가지 실행 모드가 나란히 배치
- 로봇 버튼(노란색 테두리가 있는 🤖): 자율 실행을 위한 서브 에이전트 시작
- 기계 팔 버튼(녹색 테두리가 있는 🦾): 역할 기반 가이드가 있는 직접 실행
- 명령이 클립보드로 복사될 때 시각적 피드백
- 각 버튼의 기능을 명확히 설명하는 툴팁

#### 💻 사용 방법

1. **실행 모드 선택**:
   - **로봇 버튼(🤖 - 노란색 테두리)**: 클릭하여 서브 에이전트를 시작하는 명령 복사
   - **기계 팔 버튼(🦾 - 녹색 테두리)**: 클릭하여 에이전트 역할과 함께 직접 실행하는 명령 복사

2. **붙여넣기 및 실행**: 복사된 명령을 Claude에 붙여넣어 작업을 실행합니다

3. **직접 모드의 이점**:
   - 작업 실행 중 정확히 무슨 일이 일어나는지 확인
   - 실행 프로세스에 대한 제어 유지
   - 여전히 에이전트의 전문화된 지식과 접근 방식의 이점
   - 간단한 작업에 대한 서브 에이전트 오버헤드 방지

### 🗄️ 아카이브 기능

#### 개요
버전 3.1.0은 사용자가 localStorage 저장소로 완전한 작업 목록을 저장, 보기 및 복원할 수 있게 하는 포괄적인 **아카이브 시스템**을 도입합니다. 이 기능은 전문적인 UI 구성 요소로 세션 간 지속적인 작업 목록 관리를 제공합니다.

#### 🎯 주요 기능

##### **완전한 아카이브 시스템**
- **아카이브 버튼**: 확인 모달이 있는 내보내기 버튼 옆의 📦 아카이브 버튼
- **아카이브 모달**: 아카이브하기 전에 프로젝트 세부사항 및 작업 통계를 표시
- **아카이브 탭**: 아카이브된 목록을 보여주는 페이지네이션된 테이블이 있는 네비게이션의 새 탭
- **아카이브 저장소**: 완전한 프로젝트 메타데이터를 포함한 히스토리와 유사한 JSON 형식 저장소

##### **고급 테이블 인터페이스**
- **TanStack React Table**: 정렬, 페이지네이션 및 필터링이 있는 전문적인 테이블
- **테이블 열**: ID (짧음), 타임스탬프, 초기 요청 (잘림), 통계, 작업
- **작업**: 확인 대화상자가 있는 보기 (👁️), 삭제 (🗑️), 가져오기 (📥)
- **페이지네이션**: 완전한 네비게이션 컨트롤로 페이지당 15개 항목

##### **가져오기 및 내보내기 옵션**
- **가져오기 모달**: 현재 작업에 추가하거나 모든 작업을 교체하도록 선택
- **경고 시스템**: 파괴적인 작업에 대한 명확한 빨간색 경고
- **보기 모달**: 기존 TaskTable을 사용한 전체 화면 읽기 전용 작업 뷰어
- **데이터 무결성**: 초기 요청을 포함한 완전한 프로젝트 컨텍스트 보존

#### 🔧 기술 구현

##### **아카이브 구성 요소**
- **ArchiveModal**: 프로젝트 통계 표시가 있는 확인 대화상자
- **ArchiveView**: 포괄적인 TanStack 테이블 구현이 있는 메인 테이블 뷰
- **ImportArchiveModal**: 추가/교체 기능이 있는 가져오기 옵션
- **ViewArchiveModal**: 완전한 TaskTable 통합이 있는 읽기 전용 작업 뷰어

##### **데이터 구조**
```javascript
{
  id: uuid,
  timestamp: ISO string,
  projectId: string,
  projectName: string,
  initialRequest: string,
  tasks: Task[],
  stats: { completed: number, inProgress: number, pending: number },
  finalSummary: string
}
```

##### **테스트 주도 개발**
- **100+ 테스트**: TDD 방법론을 사용한 포괄적인 테스트 커버리지
- **모든 구성 요소**: 모든 아카이브 구성 요소가 완전한 테스트 스위트를 가짐
- **엣지 케이스**: 빈 데이터, 잘못된 아카이브, 저장소 실패 처리
- **UI 상호작용**: React Testing Library를 사용한 완전한 사용자 워크플로우 테스트

#### 🌍 국제화
3개 언어에 대한 완전한 i18n 지원:
- 🇬🇧 영어: Archive, Archive Tasks, Import Archive 등
- 🇨🇳 중국어: 存档, 存档任务, 导入存档 등
- 🇯🇵 일본어: アーカイブ, タスクをアーカイブ, アーカイブをインポート 등

#### 💻 사용 방법

1. **작업 아카이브**: 📦 아카이브 버튼을 클릭하고 프로젝트 세부사항이 있는 모달에서 확인
2. **아카이브 보기**: 아카이브 탭으로 이동하여 아카이브된 작업 목록의 페이지네이션된 목록 확인
3. **아카이브 가져오기**: 📥 가져오기를 클릭하고 현재 작업에 추가하거나 교체를 선택
4. **아카이브 보기**: 👁️ 보기를 클릭하여 전체 읽기 전용 작업 목록 확인
5. **아카이브 삭제**: 확인 대화상자와 함께 🗑️ 삭제를 클릭

#### 🚀 이점

1. **프로젝트 연속성**
   - 모든 컨텍스트와 함께 완전한 프로젝트 스냅샷 저장
   - 필요시 이전 프로젝트 상태 복원
   - 프로젝트 진화의 히스토리 유지

2. **유연한 워크플로우**
   - 향후 참조를 위한 완료된 프로젝트 아카이브
   - 가져오기를 사용하여 다양한 작업 접근 방식 실험
   - 작업 히스토리를 보존하면서 작업 공간 정리

3. **전문적인 구현**
   - 세션 간 강력한 localStorage 지속성
   - 메타데이터 보존을 통한 완전한 데이터 무결성
   - 기존 디자인 시스템과 매치되는 전문적인 UI

---

## 🐛 버그 수정 및 개선

### 일반적인 버그 수정
- 서버 응답에서 작업 파일 형식 처리 수정
- 잘못된 JSON 파일에 대한 오류 처리 개선
- 더 나은 성능을 위한 캐시 관리 향상
- ENOENT 오류를 방지하기 위한 데이터 경로 디렉터리 생성 추가
- **에이전트 명령 복사 수정**: 로봇 이모지(🤖)가 이제 에이전트 명령을 복사할 때 전체 프로젝트 경로를 포함하여 현재 디렉터리에 관계없이 올바르게 작동
  - 전역 에이전트: 이제 전체 Claude 폴더 경로 포함 (예: `/home/user/claude/agents/fullstack.md`)
  - 프로젝트 에이전트: 이제 전체 프로젝트 루트 경로 포함 (예: `/home/user/project/.claude/agents/fullstack.md`)
- **향상된 로봇 이모지 버튼**: 더 나은 가시성과 구별을 위해 컬러 테두리 (노란색 및 녹색) 추가
- **에이전트 정보 모달 설명**: 하드코딩된 에이전트 설명이 항상 사용되도록 하여 빈 설명 문제 수정
  - test-expert, react-optimizer, ui-developer 및 architect 에이전트에 대한 포괄적인 설명 추가
  - 적절한 형식으로 알려지지 않은 에이전트에 대한 향상된 대체 설명
- **프로덕션 작업 JSON**: 프로덕션 작업 파일에서 500 오류를 유발하는 잘못된 JSON 수정

### 개선 카테고리

##### **최종 요약 개선**
- **미완료 작업 경고**: 미완료 작업에 대한 빨간색 경고 섹션 추가 (⚠️ 남은 작업)
- **진행률 정확도**: 잘못된 완료 주장 대신 "Y개 작업 중 X개 완료 (Z% 진행률)" 표시
- **향상된 스타일링**: 미완료 작업 표시기에 대한 빨간색 경고 색상 (#e74c3c)
- **지능적 분석**: 완료된 작업과 대기 중인 작업 간의 적절한 구별

##### **에이전트 감지 수정**
- **경로 해결**: 적절한 에이전트 감지를 위한 프로젝트 루트 경로 매핑 수정
- **오류 메시지**: 마침표 뒤에 적절한 간격이 있는 오류 메시지 형식 개선
- **테스트 커버리지**: 8개 이상의 테스트 시나리오로 포괄적인 에이전트 감지 테스트 추가
- **디렉터리 검증**: .claude/agents 디렉터리 구조의 향상된 검증

##### **API 개선**
- **새로운 엔드포인트**: 지능적인 요약 생성을 위한 `/api/tasks/{projectId}/summarize` 추가
- **미완료 작업**: 서버는 이제 요약에서 남은 작업을 처리하고 강조 표시
- **오류 처리**: 서버 측 오류 처리 및 검증 개선
- **테스트 인프라**: 모의 시나리오로 포괄적인 API 엔드포인트 테스트 추가

---

**전체 변경 로그**: v3.0.0...v3.1.0

*출시일: 2025년 9월 1일*